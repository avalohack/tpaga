/**
 * @license
 * Adobe Visitor API for JavaScript version: 4.1.0
 * Copyright 2019 Adobe, Inc. All Rights Reserved
 * More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
 */
var e=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!L.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var a=void 0!==e[t]?e[t]:"";this.execute(t,a)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function i(e){for(var t=/^\d+$/,a=0,i=e.length;a<i;a++)if(!t.test(e[a]))return!1;return!0}function n(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function r(e,t){for(var a=0;a<e.length;a++){var i=parseInt(e[a],10),n=parseInt(t[a],10);if(i>n)return 1;if(n>i)return-1}return 0}function s(e,t){if(e===t)return 0;var a=e.toString().split("."),s=t.toString().split(".");return i(a.concat(s))?(n(a,s),r(a,s)):NaN}function o(e){return e===Object(e)&&0===Object.keys(e).length}function l(e){return"function"==typeof e||e instanceof Array&&e.length}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isEnabled,a=e.cookieName,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;return t&&a&&i?{remove:function(){i.remove(a)},get:function(){var e=i.get(a),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},i.set(a,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}}:{get:ve,set:ve,remove:ve}}function u(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function d(){function e(e,t){var a=oe(e);return a.length?a.every(function(e){return!!t[e]}):le(t)}function t(){E(A),L(ee.COMPLETE),k(S.status,S.permissions),b.set(S.permissions,{optInCookieDomain:l,optInStorageExpiry:u}),_.execute(Ce)}function a(e){return function(a,i){if(!ce(a))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return L(ee.CHANGED),Object.assign(A,ue(oe(a),e)),i||t(),S}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.doesOptInApply,r=i.previousPermissions,s=i.preOptInApprovals,o=i.isOptInStorageEnabled,l=i.optInCookieDomain,u=i.optInStorageExpiry,d=i.isIabContext,p=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,g=ye(r);be(g,"Invalid `previousPermissions`!"),be(s,"Invalid `preOptInApprovals`!");var f,h,m,v,y,b=c({isEnabled:!!o,cookieName:"adobeujs-optin"},{cookies:p}),S=this,k=Z(S),_=re(),C=ge(g),P=ge(s),V=b.get(),I={},D=(y=V,fe(C)||y&&fe(y)?ee.COMPLETE:ee.PENDING),T=(f=P,h=C,m=V,v=ue(ne,!n),n?Object.assign({},v,f,h,m):v),A=de(T),L=function(e){return D=e},E=function(e){return T=e};S.deny=a(!1),S.approve=a(!0),S.denyAll=S.deny.bind(S,ne),S.approveAll=S.approve.bind(S,ne),S.isApproved=function(t){return e(t,S.permissions)},S.isPreApproved=function(t){return e(t,P)},S.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?S.on(ee.COMPLETE,e):ve;return!n||n&&S.isComplete||s?e(S.permissions):t||_.add(Ce,function(){return e(S.permissions)}),a},S.complete=function(){S.status===ee.CHANGED&&t()},S.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Pe);I[e.name]||(I[e.name]=e,e.onRegister.call(e,S))},S.execute=_e(I),Object.defineProperties(S,{permissions:{get:function(){return T}},status:{get:function(){return D}},Categories:{get:function(){return te}},doesOptInApply:{get:function(){return!!n}},isPending:{get:function(){return S.status===ee.PENDING}},isComplete:{get:function(){return S.status===ee.COMPLETE}},__plugins:{get:function(){return Object.keys(I)}},isIabContext:{get:function(){return d}}})}function p(e,t){function a(){n=null,e.call(e,new u("The call took longer than you wanted!"))}function i(){n&&(clearTimeout(n),e.apply(e,arguments))}if(void 0===t)return e;var n=setTimeout(a,t);return i}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve(),t=this;t.name="iabPlugin",t.version="0.0.1";var a=re(),i={allConsentData:null},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[e]=t};t.fetchConsentData=function(e){var t=p(e.callback,e.timeout);r({callback:t})},t.isApproved=function(e){var t=e.callback,a=e.category,n=e.timeout;if(i.allConsentData)return t(null,l(a,i.allConsentData.vendorConsents,i.allConsentData.purposeConsents));var s=p(function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.vendorConsents,r=i.purposeConsents;t(e,l(a,n,r))},n);r({category:a,callback:s})},t.onRegister=function(e){var a=Object.keys(ae),i=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.purposeConsents,r=i.gdprApplies,s=i.vendorConsents;!t&&r&&s&&n&&(a.forEach(function(t){var a=l(t,s,n);e[a?"approve":"deny"](t,!0)}),e.complete())};t.fetchConsentData({callback:i})};var r=function(e){var t=e.callback;if(i.allConsentData)return t(null,i.allConsentData);a.add("FETCH_CONSENT_DATA",t);var r={};o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.purposeConsents,o=e.gdprApplies,l=e.vendorConsents;(arguments.length>1?arguments[1]:void 0)&&n("allConsentData",r={purposeConsents:t,gdprApplies:o,vendorConsents:l}),s(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)&&(r.consentString=e.consentData,n("allConsentData",r)),a.execute("FETCH_CONSENT_DATA",[null,i.allConsentData])})})},s=function(t){e("getConsentData",null,t)},o=function(t){var a=ke(ae);e("getVendorConsents",a,t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!t[ae[e]]&&ie[e].every(function(e){return a[e]})}}function f(e,t,a){var i=null==e?void 0:e[t];return void 0===i?a:i}var h="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,i=1;i<arguments.length;++i)for(t in a=arguments[i])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var m,v,y,b,S,k={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"}},_=k.STATE_KEYS_MAP,C=function(e){function t(){}function a(t,a){var i=this;return function(){var n=e(0,t),r={};return r[t]=n,i.setStateAndPublish(r),a(n),n}}var i=this;this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(_.MCMID,e),n=a.call(this,_.MCMID,e);return void 0!==i?i:n()},this.getVisitorValues=function(e){i.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},P=k.MESSAGES,V=k.ASYNC_API_MAP,I=k.SYNC_API_MAP,D=function(){function e(){}function t(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(P.GETSTATE),""}}function a(a){this[V[a]]=function(i){i=i||e;var n=this.findField(a,i),r=t.call(this,a,i);return void 0!==n?n:r()}}function i(t){this[I[t]]=function(){return this.findField(t,e)||{}}}Object.keys(V).forEach(a,this),Object.keys(I).forEach(i,this)},T=k.ASYNC_API_MAP,A=function(){Object.keys(T).forEach(function(e){this[T[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},L=((b=(S={exports:{}}).exports).isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},b.isValueEmpty=function(e){return""===e||b.isObjectEmpty(e)},b.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},b.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},b.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},b.defineGlobalNamespace=function(){return window.adobe=b.isObject(window.adobe)?window.adobe:{},window.adobe},b.pluck=function(e,t){return t.reduce(function(t,a){return e[a]&&(t[a]=e[a]),t},Object.create(null))},b.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},void(b.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}),S.exports),E=(L.isObjectEmpty,L.isValueEmpty,L.getIeVersion,L.encodeAndBuildRequest,L.isObject,L.defineGlobalNamespace,L.pluck,L.parseOptOut,L.normalizeBoolean,a),O=k.MESSAGES,M={0:"prefix",1:"orgID",2:"state"},w=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,a){void 0!==e&&(t[M[a]]=2!==a?e:JSON.parse(e))}),t}catch(e){}},this.isInvalid=function(a){var i=this.parse(a);if(!i||Object.keys(i).length<2)return!0;var n=e!==i.orgID,r=!t||a.origin!==t,s=-1===Object.keys(O).indexOf(i.prefix);return n||r||s},this.send=function(a,i,n){var r=i+"|"+e;n&&n===Object(n)&&(r+="|"+JSON.stringify(n));try{a.postMessage(r,t)}catch(e){}}},x=k.MESSAGES,N=function(e,t,a,i){function n(e){Object.assign(g,e)}function r(e){Object.assign(g.state,e),Object.assign(g.state.ALLFIELDS,e),g.callbackRegistry.executeAll(g.state)}function s(e){if(!v.isInvalid(e)){m=!1;var t=v.parse(e);g.setStateAndPublish(t.state)}}function o(e){!m&&f&&(m=!0,v.send(i,e))}function l(){n(new C(a._generateID)),g.getMarketingCloudVisitorID(),g.callbackRegistry.executeAll(g.state,!0),h.removeEventListener("message",c)}function c(e){if(!v.isInvalid(e)){var t=v.parse(e);m=!1,h.clearTimeout(g._handshakeTimeout),h.removeEventListener("message",c),n(new D(g)),h.addEventListener("message",s),g.setStateAndPublish(t.state),g.callbackRegistry.hasCallbacks()&&o(x.GETSTATE)}}function u(){f&&postMessage?(h.addEventListener("message",c),o(x.HANDSHAKE),g._handshakeTimeout=setTimeout(l,250)):l()}function d(){h.s_c_in||(h.s_c_il=[],h.s_c_in=0),g._c="Visitor",g._il=h.s_c_il,g._in=h.s_c_in,g._il[g._in]=g,h.s_c_in++}function p(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(g[e]=function(){})}Object.keys(a).forEach(e),g.getSupplementalDataID=a.getSupplementalDataID,g.isAllowed=function(){return!0}}var g=this,f=t.whitelistParentDomain;g.state={ALLFIELDS:{}},g.version=a.version,g.marketingCloudOrgID=e,g.cookieDomain=a.cookieDomain||"",g._instanceType="child";var m=!1,v=new w(e,f);g.callbackRegistry=E(),g.init=function(){d(),p(),n(new A(g)),u()},g.findField=function(e,t){if(g.state[e])return t(g.state[e]),g.state[e]},g.messageParent=o,g.setStateAndPublish=r},R=k.MESSAGES,F=k.ALL_APIS,U=k.ASYNC_API_MAP,B=k.FIELDGROUP_TO_FIELD,H=function(e,t){function a(){var t={};return Object.keys(F).forEach(function(a){var i=F[a],n=e[i]();L.isValueEmpty(n)||(t[a]=n)}),t}function i(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(a){if(e._loading[a]){var i=B[a];t.push(i)}}),t.length?t:null}function n(t){return function a(){var n=i();if(n){var r=U[n[0]];e[r](a,!0)}else t()}}function r(e,i){var n=a();t.send(e,i,n)}function s(e){l(e),r(e,R.HANDSHAKE)}function o(e){n(function(){r(e,R.PARENTSTATE)})()}function l(a){function i(i){n.call(e,i),t.send(a,R.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var n=e.setCustomerIDs;e.setCustomerIDs=i}return function(e){t.isInvalid(e)||(t.parse(e).prefix===R.HANDSHAKE?s:o)(e.source)}},j=function(e,t){function a(e){return function(a){i[e]=a,++n===r&&t(i)}}var i={},n=0,r=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var n=i.args||[];n.unshift(a(t)),i.fn.apply(i.context||null,n)}})},z=function(e){var t;if(!e&&h.location&&(e=h.location.hostname),t=e)if(/^[0-9.]+$/.test(t))t="";else{var a=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",i=t.split("."),n=i.length-1,r=n-1;if(n>1&&i[n].length<=2&&(2===i[n-1].length||a.indexOf(","+i[n]+",")<0)&&r--,r>0)for(t="";n>=r;)t=i[n]+(t?".":"")+t,n--}return t},q={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},G=!!h.postMessage,$={postMessage:function(e,t,a){var i=1;t&&(G?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},receiveMessage:function(e,t){var a;try{G&&(e&&(a=function(a){if("string"==typeof t&&a.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(a.origin))return!1;e(a)}),h.addEventListener?h[e?"addEventListener":"removeEventListener"]("message",a):h[e?"attachEvent":"detachEvent"]("onmessage",a))}catch(e){}}},Q=function(e){var t,a,i="0123456789",n="",r="",s=8,o=10,l=10;if(1==e){for(i+="ABCDEF",t=0;16>t;t++)a=Math.floor(Math.random()*s),n+=i.substring(a,a+1),a=Math.floor(Math.random()*s),r+=i.substring(a,a+1),s=16;return n+"-"+r}for(t=0;19>t;t++)a=Math.floor(Math.random()*o),n+=i.substring(a,a+1),0===t&&9==a?o=3:(1==t||2==t)&&10!=o&&2>a?o=10:2<t&&(o=10),a=Math.floor(Math.random()*l),r+=i.substring(a,a+1),0===t&&9==a?l=3:(1==t||2==t)&&10!=l&&2>a?l=10:2<t&&(l=10);return n+r},Y=function(e){return{corsMetadata:(t="none",a=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?t="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(a=!1),Object.prototype.toString.call(h.HTMLElement).indexOf("Constructor")>0&&(a=!1)),{corsType:t,corsCookiesEnabled:a}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new h[this.corsMetadata.corsType]},fireCORS:function(t,a){function i(e){var a;try{if((a=JSON.parse(e))!==Object(a))return void n.handleCORSError(t,null,"Response is not JSON")}catch(e){return void n.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,r=h,s=0;s<i.length;s++)r=r[i[s]];r(a)}catch(e){n.handleCORSError(t,e,"Error forming callback function")}}var n=this;a&&(t.loadErrorHandler=a);try{var r=this.getCORSInstance();r.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(r.withCredentials=!0,r.timeout=e.loadTimeout,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===this.readyState&&200===this.status&&i(this.responseText)}),r.onerror=function(e){n.handleCORSError(t,e,"onerror")},r.ontimeout=function(e){n.handleCORSError(t,e,"ontimeout")},r.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,a,i){e.CORSErrors.push({corsData:t,error:a,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}};var t,a},J={POST_MESSAGE_ENABLED:!!h.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/},W=function(e,t){var a=h.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",n="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:J.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(n=a.createElement("iframe")).sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=i.id,n.name=i.id+"_name",n.style.cssText="display: none; width: 0; height: 0;",n.src=i.url,i.newIframeCreated=!0,t(),a.body.appendChild(n)}function t(e){n.addEventListener("load",function(){n.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,n=a.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=n},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function a(){n.jsonForComparison.push(t),n.jsonWaiting.push(t),n.processSyncOnPage(t)}var i,n=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var r,s,o,l=!1;for(r=0,s=this.jsonForComparison.length;r<s;r++)if(o=this.jsonForComparison[r],i===JSON.stringify(o.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):a()}else a();if((this.receivedThirdPartyCookiesNotification||!J.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){n.messageSendingInterval=J.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,a){var i=e._getField("MCAAMLH"),n=t.d_region||t.dcs_region;return i?n&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",n),parseInt(i,10)!==n&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=n)):(i=n)&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",i)),i||(i=""),i},processSyncOnPage:function(e){var t,a,i,n;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(i=0;i<a;i++)(n=t[i]).syncOnPage&&this.checkFirstPartyCookie(n,"","syncOnPage")},process:function(e){var t,a,i,n,r,s=encodeURIComponent,o=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(o=!0,i=0;i<a;i++)n=t[i],r=[s("ibs"),s(n.id||""),s(n.tag||""),L.encodeAndBuildRequest(n.url||[],","),s(n.ttl||""),"","",n.fireURLSync?"true":"false"],n.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(r.join("|")):n.fireURLSync&&this.checkFirstPartyCookie(n,r.join("|")));o&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,a,i){var n="syncOnPage"===i,r=n?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var s,o,l=e._getField(r),c=!1,u=!1,d=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);l?(s=l.split("*"),c=(o=this.pruneSyncData(s,t.id,d)).dataPresent,u=o.dataValid,c&&u||this.fireSync(n,t,a,s,r,d)):(s=[],this.fireSync(n,t,a,s,r,d))},pruneSyncData:function(e,t,a){var i,n,r,s=!1,o=!1;for(n=0;n<e.length;n++)i=e[n],r=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(s=!0,a<r?o=!0:(e.splice(n,1),n--)):a>=r&&(e.splice(n,1),n--);return{dataPresent:s,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,a,i,n,r,s){var o=this;if(t){if("img"===a.tag){var l,c,u,d,p=a.url,g=e.loadSSL?"https:":"http:";for(l=0,c=p.length;l<c;l++){u=p[l],d=/^\/\//.test(u);var f=new Image;f.addEventListener("load",function(t,a,i,n){return function(){o.onPagePixels[t]=null,e._readVisitor();var s,l,c,u,d=e._getField(r),p=[];if(d)for(l=0,c=(s=d.split("*")).length;l<c;l++)(u=s[l]).match("^"+a.id+"-")||p.push(u);o.setSyncTrackingData(p,a,i,n)}}(this.onPagePixels.length,a,r,s)),f.src=(d?g:"")+u,this.onPagePixels.push(f)}}}else this.addMessage(i),this.setSyncTrackingData(n,a,r,s)},addMessage:function(t){var a=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((J.POST_MESSAGE_ENABLED?"":a)+t)},setSyncTrackingData:function(t,a,i,n){t.push(a.id+"-"+(n+Math.ceil(a.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,a="",i=encodeURIComponent;this.regionChanged&&(a=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?J.POST_MESSAGE_ENABLED?(e=a+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){$.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===a.readyState||"loaded"===a.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,a){return e._forceSyncIDCall||!t||a-t>J.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(a.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},K={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},X={getConfigNames:function(){return Object.keys(K)},getConfigs:function(){return K},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},Z=function(e){var t={};return e.on=function(e,a,i){if(!a||"function"!=typeof a)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var n=t[e].push({callback:a,context:i})-1;return function(){t[e].splice(n,1),t[e].length||delete t[e]}},e.publish=function(e){if(t.hasOwnProperty(e)){var a=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,a)})}},e.publish},ee={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},te={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},ae=(t(m={},te.AAM,565),t(m,te.ECID,565),m),ie=(t(v={},te.AAM,[1,2,5]),t(v,te.ECID,[1,2,5]),v),ne=(y=te,Object.keys(y).map(function(e){return y[e]})),re=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,a){if(!l(a))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var i=e.callbacks[t].push(a)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=function(t,a){if(e.callbacks[t]){a=(a=void 0===a?[]:a)instanceof Array?a:[a];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,a):i instanceof Array&&i[1].apply(i[0],a)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,a){(a||t&&!o(t))&&Object.keys(e.callbacks).forEach(function(a){var i=void 0!==t[a]?t[a]:"";e.execute(a,i)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},se=function(t,a){return e(t)===a},oe=function(e,t){return e instanceof Array?e:se(e,"string")?[e]:t||[]},le=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},ce=function(e){return!(!e||pe(e))&&oe(e).every(function(e){return ne.indexOf(e)>-1})},ue=function(e,t){return e.reduce(function(e,a){return e[a]=t,e},{})},de=function(e){return JSON.parse(JSON.stringify(e))},pe=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ge=function(e){if(me(e))return e;try{return JSON.parse(e)}catch(e){return{}}},fe=function(e){return void 0===e||(me(e)?ce(Object.keys(e)):he(e))},he=function(e){try{var t=JSON.parse(e);return!!e&&se(e,"string")&&ce(Object.keys(t))}catch(e){return!1}},me=function(e){return null!==e&&se(e,"object")&&!1===Array.isArray(e)},ve=function(){},ye=function(e){return se(e,"function")?e():e},be=function(e,t){if(!fe(e))throw new Error("[OptIn] ".concat(t))},Se=function(e){return Object.keys(e).map(function(t){return e[t]})},ke=function(e){return Se(e).filter(function(e,t,a){return a.indexOf(e)===t})},_e=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.command,i=t.params,n=void 0===i?{}:i,r=t.callback,s=void 0===r?ve:r;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var o=a.split("."),l=e[o[0]],c=o[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(n,{callback:s});l[c].call(l,u)}catch(e){throw new Error("[OptIn.execute] Something went wrong: "+e.message)}}};u.prototype=Object.create(Error.prototype),u.prototype.constructor=u;var Ce="fetchPermissions",Pe="[OptIn#registerPlugin] Plugin is invalid.";d.Categories=te,d.TimeoutError=u;var Ve=function(){throw new Error("[IAB Plugin] A __cmp is required.")},Ie=Object.freeze({OptIn:d,IabPlugin:g}),De={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),i=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,i<0?t.length:i))},set:function(e,t,a){var i=f(a,"cookieLifetime"),n=f(a,"expires"),r=f(a,"domain");if(n&&"SESSION"!==i&&"NONE"!==i){var s=""!==t?parseInt(i||0,10):-60;if(s)(n=new Date).setTime(n.getTime()+1e3*s);else if(1===n){var o=(n=new Date).getYear();n.setYear(o+2+(o<1900?1900:0))}}else n=0;return e&&"NONE"!==i?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(r?" domain="+r+";":""),this.get(e)===t):0},remove:function(e,t){var a=f(t,"domain");a=a?" domain="+a+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a}},Te=function(e,t){e.publishDestinations=function(a){var i=arguments[1],n=arguments[2];try{n="function"==typeof n?n:a.callback}catch(e){n=function(){}}var r=t;if(r.readyToAttachIframePreliminary()){if("string"==typeof a){if(!a.length)return void n({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void n({error:"messages is not a populated array."});var s=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&(r.addMessage(e),s=!0)}),!s)return void n({error:"None of the messages are populated strings."})}else{if(!L.isObject(a))return void n({error:"Invalid parameters passed."});var o=a;if("string"!=typeof(a=o.subdomain)||!a.length)return void n({error:"config.subdomain is not a populated string."});var l=o.urlDestinations;if(!(l instanceof Array&&l.length))return void n({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach(function(e){L.isObject(e)&&(e.hideReferrer?e.message&&r.addMessage(e.message):c.push(e))}),function u(){c.length&&setTimeout(function(){var e=new Image,t=c.shift();e.src=t.url,r.onPageDestinationsFired.push(t),u()},100)}()}r.iframe?(n({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(r.subdomain=a,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),r.attachIframe()):n({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else n({error:"The destination publishing iframe is disabled in the Visitor library."})}},Ae=Ie.OptIn;L.defineGlobalNamespace(),window.adobe.OptInCategories=Ae.Categories;var Le=function(t,a,i){
function n(e){var t=e;return function(e){var a=e||m.location.href;try{var i=d._extractParamFromUri(a,t);if(i)return E.parsePipeDelimetedKeyValues(i)}catch(e){}}}function r(e){function t(e,t){e&&e.match(J.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[b],d.setMarketingCloudVisitorID),d._setFieldExpire(V,-1),t(e[C],d.setAnalyticsVisitorID)}function s(e){e=e||{},d._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",d._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},d._supplementalDataIDLast=e.supplementalDataIDLast||"",d._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){function t(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function a(e,a){var i=a[0],n=a[1];return null!=n&&n!==I&&(e=t(i,n,e)),e}var i,n=e.reduce(a,"");return(i=(i=n)?i+="|":i)+"TS="+E.getTimestampInSeconds()}function l(e){var t=e.minutesToLive,a="";return(d.idSyncDisableSyncs||d.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function c(){return!(!d.configs.doesOptInApply||p.optIn.isComplete||u())}function u(){return d.configs.isIabContext?p.optIn.isApproved(p.optIn.Categories.ECID)&&f:p.optIn.isApproved(p.optIn.Categories.ECID)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var d=this,p=window.adobe,g="",f=!1;d.version="4.1.0";var m=h,v=m.Visitor;v.version=d.version,v.AuthState=k.AUTH_STATE,v.OptOut=k.OPT_OUT,m.s_c_in||(m.s_c_il=[],m.s_c_in=0),d._c="Visitor",d._il=m.s_c_il,d._in=m.s_c_in,d._il[d._in]=d,m.s_c_in++,d._instanceType="regular",d._log={requests:[]},d.marketingCloudOrgID=t,d.cookieName="AMCV_"+t,d.sessionCookieName="AMCVS_"+t,d.cookieDomain=z(),d.cookieDomain===m.location.hostname&&(d.cookieDomain=""),d.loadSSL=m.location.protocol.toLowerCase().indexOf("https")>=0,d.loadTimeout=3e4,d.CORSErrors=[],d.marketingCloudServer=d.audienceManagerServer="dpm.demdex.net",d.sdidParamExpiry=30;var y=null,b="MCMID",S="MCIDTS",_="A",C="MCAID",P="AAM",V="MCAAMB",I="NONE",D=function(e){return!Object.prototype[e]},T=Y(d);d.FIELDS=k.FIELDS,d.cookieRead=function(e){return De.get(e)},d.cookieWrite=function(e,t,a){var i=d.cookieLifetime?(""+d.cookieLifetime).toUpperCase():"";return De.set(e,""+t,{expires:a,domain:d.cookieDomain,cookieLifetime:i})},d.resetState=function(e){e?d._mergeServerState(e):s()},d._isAllowedDone=!1,d._isAllowedFlag=!1,d.isAllowed=function(){return d._isAllowedDone||(d._isAllowedDone=!0,(d.cookieRead(d.cookieName)||d.cookieWrite(d.cookieName,"T",1))&&(d._isAllowedFlag=!0)),"T"===d.cookieRead(d.cookieName)&&d._helpers.removeCookie(d.cookieName),d._isAllowedFlag},d.setMarketingCloudVisitorID=function(e){d._setMarketingCloudFields(e)},d._use1stPartyMarketingCloudServer=!1,d.getMarketingCloudVisitorID=function(e,t){d.marketingCloudServer&&d.marketingCloudServer.indexOf(".demdex.net")<0&&(d._use1stPartyMarketingCloudServer=!0);var a=d._getAudienceManagerURLData("_setMarketingCloudFields"),i=a.url;return d._getRemoteField(b,i,e,t,a)},d.getVisitorValues=function(e,t){var a={MCMID:{fn:d.getMarketingCloudVisitorID,args:[!0],context:d},MCOPTOUT:{fn:d.isOptedOut,args:[void 0,!0],context:d},MCAID:{fn:d.getAnalyticsVisitorID,args:[!0],context:d},MCAAMLH:{fn:d.getAudienceManagerLocationHint,args:[!0],context:d},MCAAMB:{fn:d.getAudienceManagerBlob,args:[!0],context:d}},i=t&&t.length?L.pluck(a,t):a;j(i,e)},d._currentCustomerIDs={},d._customerIDsHashChanged=!1,d._newCustomerIDsHash="",d.setCustomerIDs=function(t){function a(){d._customerIDsHashChanged=!1}if(t){if(!L.isObject(t)||L.isObjectEmpty(t))return!1;var i,n;for(i in d._readVisitor(),t)if(D(i)&&(n=t[i]))if("object"===e(n)){var r={};n.id&&(r.id=n.id),null!=n.authState&&(r.authState=n.authState),d._currentCustomerIDs[i]=r}else d._currentCustomerIDs[i]={id:n};var s=d.getCustomerIDs(),o=d._getField("MCCIDH"),l="";for(i in o||(o=0),s)D(i)&&(l+=(l?"|":"")+i+"|"+((n=s[i]).id?n.id:"")+(n.authState?n.authState:""));d._newCustomerIDsHash=String(d._hash(l)),d._newCustomerIDsHash!==o&&(d._customerIDsHashChanged=!0,d._mapCustomerIDs(a))}},d.getCustomerIDs=function(){d._readVisitor();var e,t,a={};for(e in d._currentCustomerIDs)D(e)&&(t=d._currentCustomerIDs[e],a[e]||(a[e]={}),t.id&&(a[e].id=t.id),null!=t.authState?a[e].authState=t.authState:a[e].authState=v.AuthState.UNKNOWN);return a},d.setAnalyticsVisitorID=function(e){d._setAnalyticsFields(e)},d.getAnalyticsVisitorID=function(e,t,a){if(!E.isTrackingServerPopulated()&&!a)return d._callCallback(e,[""]),"";var i="";if(a||(i=d.getMarketingCloudVisitorID(function(){d.getAnalyticsVisitorID(e,!0)})),i||a){var n=a?d.marketingCloudServer:d.trackingServer,r="";d.loadSSL&&(a?d.marketingCloudServerSecure&&(n=d.marketingCloudServerSecure):d.trackingServerSecure&&(n=d.trackingServerSecure));var s={};if(n){var o="http"+(d.loadSSL?"s":"")+"://"+n+"/id",l="d_visid_ver="+d.version+"&mcorgid="+encodeURIComponent(d.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(d.idSyncDisable3rdPartySyncing||d.disableThirdPartyCookies?"&d_coppa=true":""),c=["s_c_il",d._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];r=o+"?"+l+"&callback=s_c_il%5B"+d._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+l,s.callback=c}return s.url=r,d._getRemoteField(a?b:C,r,e,t,s)}return""},d.getAudienceManagerLocationHint=function(e,t){if(d.getMarketingCloudVisitorID(function(){d.getAudienceManagerLocationHint(e,!0)})){var a=d._getField(C);if(!a&&E.isTrackingServerPopulated()&&(a=d.getAnalyticsVisitorID(function(){d.getAudienceManagerLocationHint(e,!0)})),a||!E.isTrackingServerPopulated()){var i=d._getAudienceManagerURLData(),n=i.url;return d._getRemoteField("MCAAMLH",n,e,t,i)}}return""},d.getLocationHint=d.getAudienceManagerLocationHint,d.getAudienceManagerBlob=function(e,t){if(d.getMarketingCloudVisitorID(function(){d.getAudienceManagerBlob(e,!0)})){var a=d._getField(C);if(!a&&E.isTrackingServerPopulated()&&(a=d.getAnalyticsVisitorID(function(){d.getAudienceManagerBlob(e,!0)})),a||!E.isTrackingServerPopulated()){var i=d._getAudienceManagerURLData(),n=i.url;return d._customerIDsHashChanged&&d._setFieldExpire(V,-1),d._getRemoteField(V,n,e,t,i)}}return""},d._supplementalDataIDCurrent="",d._supplementalDataIDCurrentConsumed={},d._supplementalDataIDLast="",d._supplementalDataIDLastConsumed={},d.getSupplementalDataID=function(e,t){d._supplementalDataIDCurrent||t||(d._supplementalDataIDCurrent=d._generateID(1));var a=d._supplementalDataIDCurrent;return d._supplementalDataIDLast&&!d._supplementalDataIDLastConsumed[e]?(a=d._supplementalDataIDLast,d._supplementalDataIDLastConsumed[e]=!0):a&&(d._supplementalDataIDCurrentConsumed[e]&&(d._supplementalDataIDLast=d._supplementalDataIDCurrent,d._supplementalDataIDLastConsumed=d._supplementalDataIDCurrentConsumed,d._supplementalDataIDCurrent=a=t?"":d._generateID(1),d._supplementalDataIDCurrentConsumed={}),a&&(d._supplementalDataIDCurrentConsumed[e]=!0)),a};var A=!1;d._liberatedOptOut=null,d.getOptOut=function(e,t){var a=d._getAudienceManagerURLData("_setMarketingCloudFields"),i=a.url;if(u())return d._getRemoteField("MCOPTOUT",i,e,t,a);if(d._registerCallback("liberatedOptOut",e),null!==d._liberatedOptOut)return d._callAllCallbacks("liberatedOptOut",[d._liberatedOptOut]),A=!1,d._liberatedOptOut;if(A)return null;A=!0;var n="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),a.callback=[n],h[n]=function(e){if(e===Object(e)){var t,a,i=L.parseOptOut(e,t,I);t=i.optOut,a=1e3*i.d_ottl,d._liberatedOptOut=t,setTimeout(function(){d._liberatedOptOut=null},a)}d._callAllCallbacks("liberatedOptOut",[t]),A=!1},T.fireCORS(a),null},d.isOptedOut=function(e,t,a){t||(t=v.OptOut.GLOBAL);var i=d.getOptOut(function(a){var i=a===v.OptOut.GLOBAL||a.indexOf(t)>=0;d._callCallback(e,[i])},a);return i?i===v.OptOut.GLOBAL||i.indexOf(t)>=0:null},d._fields=null,d._fieldsExpired=null,d._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},d._generateID=Q,d._generateLocalMID=function(){var e=d._generateID(0);return M.isClientSideMarketingCloudVisitorID=!0,e},d._callbackList=null,d._callCallback=function(e,t){try{"function"==typeof e?e.apply(m,t):e[1].apply(e[0],t)}catch(e){}},d._registerCallback=function(e,t){t&&(null==d._callbackList&&(d._callbackList={}),null==d._callbackList[e]&&(d._callbackList[e]=[]),d._callbackList[e].push(t))},d._callAllCallbacks=function(e,t){if(null!=d._callbackList){var a=d._callbackList[e];if(a)for(;a.length>0;)d._callCallback(a.shift(),t)}},d._addQuerystringParam=function(e,t,a,i){var n=encodeURIComponent(t)+"="+encodeURIComponent(a),r=E.parseHash(e),s=E.hashlessUrl(e);if(-1===s.indexOf("?"))return s+"?"+n+r;var o=s.split("?"),l=o[0]+"?",c=o[1];return l+E.addQueryParamAtLocation(c,n,i)+r},d._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},d._parseAdobeMcFromUrl=n(J.ADOBE_MC),d._parseAdobeMcSdidFromUrl=n(J.ADOBE_MC_SDID),d._attemptToPopulateSdidFromUrl=function(e){var a=d._parseAdobeMcSdidFromUrl(e),i=1e9;a&&a.TS&&(i=E.getTimestampInSeconds()-a.TS),a&&a.SDID&&a.MCORGID===t&&i<d.sdidParamExpiry&&(d._supplementalDataIDCurrent=a.SDID,d._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},d._attemptToPopulateIdsFromUrl=function(){var e=d._parseAdobeMcFromUrl();if(e&&e.TS){var a=E.getTimestampInSeconds()-e.TS;if(Math.floor(a/60)>J.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;r(e)}},d._mergeServerState=function(e){if(e)try{if(i=e,(e=E.isObject(i)?i:JSON.parse(i))[d.marketingCloudOrgID]){var t=e[d.marketingCloudOrgID];a=t.customerIDs,E.isObject(a)&&d.setCustomerIDs(a),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var a,i},d._timeout=null,d._loadData=function(e,t,a,i){t=d._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=d._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=d._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),M.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===T.corsMetadata.corsType&&T.fireCORS(i,a,e)},d._clearTimeout=function(e){null!=d._timeout&&d._timeout[e]&&(clearTimeout(d._timeout[e]),d._timeout[e]=0)},d._settingsDigest=0,d._getSettingsDigest=function(){if(!d._settingsDigest){var e=d.version;d.audienceManagerServer&&(e+="|"+d.audienceManagerServer),d.audienceManagerServerSecure&&(e+="|"+d.audienceManagerServerSecure),d._settingsDigest=d._hash(e)}return d._settingsDigest},d._readVisitorDone=!1,d._readVisitor=function(){if(!d._readVisitorDone){d._readVisitorDone=!0;var e,t,a,i,n,r,s=d._getSettingsDigest(),o=!1,l=d.cookieRead(d.cookieName),c=new Date;if(null==d._fields&&(d._fields={}),l&&"T"!==l)for((l=l.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==s&&(o=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)a=(t=l[e].split("-"))[0],i=l[e+1],t.length>1?(n=parseInt(t[1],10),r=t[1].indexOf("s")>0):(n=0,r=!1),o&&("MCCIDH"===a&&(i=""),n>0&&(n=c.getTime()/1e3-60)),a&&i&&(d._setField(a,i,1),n>0&&(d._fields["expire"+a]=n+(r?"s":""),(c.getTime()>=1e3*n||r&&!d.cookieRead(d.sessionCookieName))&&(d._fieldsExpired||(d._fieldsExpired={}),d._fieldsExpired[a]=!0)));!d._getField(C)&&E.isTrackingServerPopulated()&&(l=d.cookieRead("s_vi"))&&((l=l.split("|")).length>1&&l[0].indexOf("v1")>=0&&((e=(i=l[1]).indexOf("["))>=0&&(i=i.substring(0,e)),i&&i.match(J.VALID_VISITOR_ID_REGEX)&&d._setField(C,i)))}},d._appendVersionTo=function(e){var t="vVersion|"+d.version,a=e?d._getCookieVersion(e):null;return a?q.areVersionsDifferent(a,d.version)&&(e=e.replace(J.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},d._writeVisitor=function(){var e,t,a=d._getSettingsDigest();for(e in d._fields)D(e)&&d._fields[e]&&"expire"!==e.substring(0,6)&&(t=d._fields[e],a+=(a?"|":"")+e+(d._fields["expire"+e]?"-"+d._fields["expire"+e]:"")+"|"+t);a=d._appendVersionTo(a),d.cookieWrite(d.cookieName,a,1)},d._getField=function(e,t){return null==d._fields||!t&&d._fieldsExpired&&d._fieldsExpired[e]?null:d._fields[e]},d._setField=function(e,t,a){null==d._fields&&(d._fields={}),d._fields[e]=t,a||d._writeVisitor()},d._getFieldList=function(e,t){var a=d._getField(e,t);return a?a.split("*"):null},d._setFieldList=function(e,t,a){d._setField(e,t?t.join("*"):"",a)},d._getFieldMap=function(e,t){var a=d._getFieldList(e,t);if(a){var i,n={};for(i=0;i<a.length;i+=2)n[a[i]]=a[i+1];return n}return null},d._setFieldMap=function(e,t,a){var i,n=null;if(t)for(i in n=[],t)D(i)&&(n.push(i),n.push(t[i]));d._setFieldList(e,n,a)},d._setFieldExpire=function(e,t,a){var i=new Date;i.setTime(i.getTime()+1e3*t),null==d._fields&&(d._fields={}),d._fields["expire"+e]=Math.floor(i.getTime()/1e3)+(a?"s":""),t<0?(d._fieldsExpired||(d._fieldsExpired={}),d._fieldsExpired[e]=!0):d._fieldsExpired&&(d._fieldsExpired[e]=!1),a&&(d.cookieRead(d.sessionCookieName)||d.cookieWrite(d.sessionCookieName,"1"))},d._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=I),t&&(t===I||t.match(J.VALID_VISITOR_ID_REGEX))||(t="")),t},d._setFields=function(t,a){if(d._clearTimeout(t),null!=d._loading&&(d._loading[t]=!1),M.fieldGroupObj[t]&&M.setState(t,!1),"MC"===t){!0!==M.isClientSideMarketingCloudVisitorID&&(M.isClientSideMarketingCloudVisitorID=!1);var i=d._getField(b);if(!i||d.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(a)&&a.mid?a.mid:d._findVisitorID(a))){if(d._use1stPartyMarketingCloudServer&&!d.tried1stPartyMarketingCloudServer)return d.tried1stPartyMarketingCloudServer=!0,void d.getAnalyticsVisitorID(null,!1,!0);i=d._generateLocalMID()}d._setField(b,i)}i&&i!==I||(i=""),"object"===e(a)&&((a.d_region||a.dcs_region||a.d_blob||a.blob)&&d._setFields(P,a),d._use1stPartyMarketingCloudServer&&a.mid&&d._setFields(_,{id:a.id})),d._callAllCallbacks(b,[i])}if(t===P&&"object"===e(a)){var n=604800;null!=a.id_sync_ttl&&a.id_sync_ttl&&(n=parseInt(a.id_sync_ttl,10));var r=O.getRegionAndCheckIfChanged(a,n);d._callAllCallbacks("MCAAMLH",[r]);var s=d._getField(V);(a.d_blob||a.blob)&&((s=a.d_blob)||(s=a.blob),d._setFieldExpire(V,n),d._setField(V,s)),s||(s=""),d._callAllCallbacks(V,[s]),!a.error_msg&&d._newCustomerIDsHash&&d._setField("MCCIDH",d._newCustomerIDsHash)}if(t===_){var o=d._getField(C);o&&!d.overwriteCrossDomainMCIDAndAID||((o=d._findVisitorID(a))?o!==I&&d._setFieldExpire(V,-1):o=I,d._setField(C,o)),o&&o!==I||(o=""),d._callAllCallbacks(C,[o])}if(d.idSyncDisableSyncs||d.disableIdSyncs)O.idCallNotProcesssed=!0;else{O.idCallNotProcesssed=!1;var l={};l.ibs=a.ibs,l.subdomain=a.subdomain,O.processIDCallData(l)}if(a===Object(a)){var c,p;u()&&d.isAllowed()&&(c=d._getField("MCOPTOUT"));var g=L.parseOptOut(a,c,I);c=g.optOut,p=g.d_ottl,d._setFieldExpire("MCOPTOUT",p,!0),d._setField("MCOPTOUT",c),d._callAllCallbacks("MCOPTOUT",[c])}},d._loading=null,d._getRemoteField=function(e,t,a,i,n){var r,s="",o=E.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(u()&&d.isAllowed())if(d._readVisitor(),!(!(s=d._getField(e,!0===l[e]))||d._fieldsExpired&&d._fieldsExpired[e])||d.disableThirdPartyCalls&&!o)s||(e===b?(d._registerCallback(e,a),s=d._generateLocalMID(),d.setMarketingCloudVisitorID(s)):e===C?(d._registerCallback(e,a),s="",d.setAnalyticsVisitorID(s)):(s="",i=!0));else if(e===b||"MCOPTOUT"===e?r="MC":"MCAAMLH"===e||e===V?r=P:e===C&&(r=_),r)return!t||null!=d._loading&&d._loading[r]||(null==d._loading&&(d._loading={}),d._loading[r]=!0,d._loadData(r,t,function(t){if(!d._getField(e)){t&&M.setState(r,!0);var a="";e===b?a=d._generateLocalMID():r===P&&(a={error_msg:"timeout"}),d._setFields(r,a)}},n)),d._registerCallback(e,a),s||(t||d._setFields(r,{id:I}),"");return e!==b&&e!==C||s!==I||(s="",i=!0),a&&i&&d._callCallback(a,[s]),s},d._setMarketingCloudFields=function(e){d._readVisitor(),d._setFields("MC",e)},d._mapCustomerIDs=function(e){d.getAudienceManagerBlob(e,!0)},d._setAnalyticsFields=function(e){d._readVisitor(),d._setFields(_,e)},d._setAudienceManagerFields=function(e){d._readVisitor(),d._setFields(P,e)},d._getAudienceManagerURLData=function(e){var t=d.audienceManagerServer,a="",i=d._getField(b),n=d._getField(V,!0),r=d._getField(C),s=r&&r!==I?"&d_cid_ic=AVID%01"+encodeURIComponent(r):"";if(d.loadSSL&&d.audienceManagerServerSecure&&(t=d.audienceManagerServerSecure),t){var o,l,c=d.getCustomerIDs();if(c)for(o in c)D(o)&&(l=c[o],s+="&d_cid_ic="+encodeURIComponent(o)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var u="http"+(d.loadSSL?"s":"")+"://"+t+"/id",p="d_visid_ver="+d.version+(g&&-1!==u.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+g:"")+"&d_rtbd=json&d_ver=2"+(!i&&d._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(d.marketingCloudOrgID)+"&d_nsid="+(d.idSyncContainerID||0)+(i?"&d_mid="+encodeURIComponent(i):"")+(d.idSyncDisable3rdPartySyncing||d.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===y?"&d_coop_safe=1":!1===y?"&d_coop_unsafe=1":"")+(n?"&d_blob="+encodeURIComponent(n):"")+s,f=["s_c_il",d._in,e];return{url:a=u+"?"+p+"&d_cb=s_c_il%5B"+d._in+"%5D."+e,corsUrl:u+"?"+p,callback:f}}return{url:a}},d.appendVisitorIDsTo=function(e){try{var t=[[b,d._getField(b)],[C,d._getField(C)],["MCORGID",d.marketingCloudOrgID]];return d._addQuerystringParam(e,J.ADOBE_MC,o(t))}catch(t){return e}},d.appendSupplementalDataIDTo=function(e,t){if(!(t=t||d.getSupplementalDataID(E.generateRandomString(),!0)))return e;try{var a=o([["SDID",t],["MCORGID",d.marketingCloudOrgID]]);return d._addQuerystringParam(e,J.ADOBE_MC_SDID,a)}catch(t){return e}};var E={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var i=e.split("&");return a=null!=a?a:i.length,i.splice(a,0,t),i.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===C&&(t||(t=d.trackingServer),a||(a=d.trackingServerSecure),!("string"!=typeof(i=d.loadSSL?a:t)||!i.length)&&i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0);var i},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){De.remove(e,{domain:d.cookieDomain})},isTrackingServerPopulated:function(){return!!d.trackingServer||!!d.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};d._helpers=E;var O=W(d,v);d._destinationPublishing=O,d.timeoutMetricsLog=[];var M={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case _:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case P:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};d.isClientSideMarketingCloudVisitorID=function(){return M.isClientSideMarketingCloudVisitorID},d.MCIDCallTimedOut=function(){return M.MCIDCallTimedOut},d.AnalyticsIDCallTimedOut=function(){return M.AnalyticsIDCallTimedOut},d.AAMIDCallTimedOut=function(){return M.AAMIDCallTimedOut},d.idSyncGetOnPageSyncInfo=function(){return d._readVisitor(),d._getField("MCSYNCSOP")},d.idSyncByURL=function(e){var t=l(e||{});if(t.error)return t.error;var a,i,n=e.url,r=encodeURIComponent,s=O;return n=n.replace(/^https:/,"").replace(/^http:/,""),a=L.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",r(e.dpid),"img",r(n),t.ttl,"",a],s.addMessage(i.join("|")),s.requestToProcess(),"Successfully queued"},d.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,d.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Te(d,O),d._getCookieVersion=function(e){e=e||d.cookieRead(d.cookieName);var t=J.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},d._resetAmcvCookie=function(e){var t=d._getCookieVersion();t&&!q.isLessThan(t,e)||E.removeCookie(d.cookieName)},d.setAsCoopSafe=function(){y=!0},d.setAsCoopUnsafe=function(){y=!1},function(){if(d.configs=Object.create(null),E.isObject(a))for(var e in a)D(e)&&(d[e]=a[e],d.configs[e]=a[e])}(),[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],a=2===e.length?e[1]:"",i=d[t];d[t]=function(e){return u()&&d.isAllowed()?i.apply(d,arguments):("function"==typeof e&&d._callCallback(e,[a]),a)}}),d.init=function(){if(c())var e=p.optIn.fetchPermissions(function(){p.optIn.isApproved(p.optIn.Categories.ECID)&&(d.configs.isIabContext?p.optIn.execute({command:"iabPlugin.fetchConsentData",callback:function(t,a){if(f=!0,t)throw new Error("[IAB plugin] : "+t);a.gdprApplies&&(g=a.consentString),d.init(),e()}}):(d.init(),e()))},!0);else!function(){if(E.isObject(a)){d.idSyncContainerID=d.idSyncContainerID||0,y="boolean"==typeof d.isCoopSafe?d.isCoopSafe:E.parseBoolean(d.isCoopSafe),d.resetBeforeVersion&&d._resetAmcvCookie(d.resetBeforeVersion),d._attemptToPopulateIdsFromUrl(),d._attemptToPopulateSdidFromUrl(),d._readVisitor();var e=d._getField(S),t=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);d.idSyncDisableSyncs||d.disableIdSyncs||!O.canMakeSyncIDCall(e,t)||(d._setFieldExpire(V,-1),d._setField(S,t)),d.getMarketingCloudVisitorID(),d.getAudienceManagerLocationHint(),d.getAudienceManagerBlob(),d._mergeServerState(d.serverState)}else d._attemptToPopulateIdsFromUrl(),d._attemptToPopulateSdidFromUrl()}(),function(){if(!d.idSyncDisableSyncs&&!d.disableIdSyncs){O.checkDPIframeSrc();var e=function(){var e=O;e.readyToAttachIframe()&&e.attachIframe()};m.addEventListener("load",function(){v.windowLoaded=!0,e()});try{$.receiveMessage(function(e){O.receiveMessage(e.data)},O.iframeHost)}catch(e){}}}(),d.whitelistIframeDomains&&J.POST_MESSAGE_ENABLED&&(d.whitelistIframeDomains=d.whitelistIframeDomains instanceof Array?d.whitelistIframeDomains:[d.whitelistIframeDomains],d.whitelistIframeDomains.forEach(function(e){var a=new w(t,e),i=H(d,a);$.receiveMessage(i,e)}))}};Le.config=X,h.Visitor=Le;var Ee=Le,Oe=Ie.OptIn,Me=Ie.IabPlugin;return Ee.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var a=function(){var t=h.s_c_il;if(t)for(var a=0;a<t.length;a++){var i=t[a];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(a)return a;var i,n=function(){if(L.isObject(t))return Object.keys(t).reduce(function(e,a){var i="doesOptInApply"!==a?t[a]:!!X.normalizeConfig(t[a]),n=L.normalizeBoolean(i);return e[a]=n,e},Object.create(null))}();i=n||{},h.adobe.optIn=h.adobe.optIn||function(){var e=L.pluck(i,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=i.optInCookieDomain||i.cookieDomain;t=(t=t||z())===window.location.hostname?"":t,e.optInCookieDomain=t;var a=new Oe(e,{cookies:De});if(e.isIabContext){var n=new Me(window.__cmp);a.registerPlugin(n)}return a}();var r=e.split("").reverse().join(""),s=new Ee(e,null,r);L.isObject(n)&&n.cookieDomain&&(s.cookieDomain=n.cookieDomain),h.s_c_il.splice(--h.s_c_in,1);var o=L.getIeVersion();if("number"==typeof o&&o<10)return s._helpers.replaceMethodsWithFunction(s,function(){});var l,c=function(){try{return h.self!==h.parent}catch(e){return!0}}()&&((l=s).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==l.cookieRead("TEST_AMCV_COOKIE")||(l._helpers.removeCookie("TEST_AMCV_COOKIE"),0))&&h.parent?new N(e,n,s,h.parent):new Ee(e,n,r);return s=null,c.init(),c},function(){function e(){Ee.windowLoaded=!0}h.addEventListener?h.addEventListener("load",e):h.attachEvent&&h.attachEvent("onload",e),Ee.codeLoadEnd=(new Date).getTime()}(),Ee}();
// All code and conventions are protected by copyright
// All code and conventions are protected by copyright
!function(t,a,i){function n(){A.addEventHandler(t,"orientationchange",n.orientationChange)}function r(e){this.delay=250,this.FB=e,A.domReady(A.bind(function(){A.poll(A.bind(this.initialize,this),this.delay,8)},this))}function s(){this.rules=A.filter(A.rules,function(e){return"videoplayed"===e.event.substring(0,11)}),this.eventHandler=A.bind(this.onUpdateTime,this)}function o(){this.rules=A.filter(A.rules,function(e){return"elementexists"===e.event})}function l(){A.getToolsByType("nielsen").length>0&&A.domReady(A.bind(this.initialize,this))}function c(){this.lastURL=A.URL(),this._fireIfURIChanged=A.bind(this.fireIfURIChanged,this),this._onPopState=A.bind(this.onPopState,this),this._onHashChange=A.bind(this.onHashChange,this),this._pushState=A.bind(this.pushState,this),this._replaceState=A.bind(this.replaceState,this),this.initialize()}function u(){var e=A.filter(A.rules,function(e){return 0===e.event.indexOf("dataelementchange")});this.dataElementsNames=A.map(e,function(e){return e.event.match(/dataelementchange\((.*)\)/i)[1]},this),this.initPolling()}function d(){var e=this.eventRegex=/^hover\(([0-9]+)\)$/,t=this.rules=[];A.each(A.rules,function(a){a.event.match(e)&&t.push([Number(a.event.match(e)[1]),a.selector])})}function p(){this.defineEvents(),this.visibilityApiHasPriority=!0,a.addEventListener?this.setVisibilityApiPriority(!1):this.attachDetachOlderEventListeners(!0,a,"focusout");A.bindEvent("aftertoolinit",function(){A.fireEvent(A.visibility.isHidden()?"tabblur":"tabfocus")})}function g(e){A.domReady(A.bind(function(){this.twttr=e||t.twttr,this.initialize()},this))}function f(e){e=e||A.rules,this.rules=A.filter(e,function(e){return"inview"===e.event}),this.elements=[],this.eventHandler=A.bind(this.track,this),A.addEventHandler(t,"scroll",this.eventHandler),A.addEventHandler(t,"load",this.eventHandler)}function h(e){A.BaseTool.call(this,e),this.name=e.name||"Basic"}function m(e){A.BaseTool.call(this,e),this.name=e.name||"VisitorID",this.initialize()}function v(){A.BaseTool.call(this),this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function y(e){A.BaseTool.call(this,e),this.defineListeners(),this.beaconMethod="plainBeacon",this.adapt=new y.DataAdapters,this.dataProvider=new y.DataProvider.Aggregate}function b(e){A.BaseTool.call(this,e),this.styleElements={},this.targetPageParamsStore={}}function S(e){A.BaseTool.call(this,e),this.varBindings={},this.events=[],this.products=[],this.customSetupFuns=[]}function _(e){A.BaseTool.call(this,e)}function C(e){A.BaseTool.call(this,e)}var P,V,I,D=Object.prototype.toString,T=t._satellite&&t._satellite.override,A={initialized:!1,$data:function(e,t,a){if(e){var n="__satellite__",r=A.dataCache,s=e[n];s||(s=e[n]=A.uuid++);var o=r[s];if(o||(o=r[s]={}),a===i)return o[t];o[t]=a}},uuid:1,dataCache:{},keys:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t},values:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(e[a]);return t},isArray:Array.isArray||function(e){return"[object Array]"===D.apply(e)},isObject:function(e){return null!=e&&!A.isArray(e)&&"object"==typeof e},isString:function(e){return"string"==typeof e},isNumber:function(e){return"[object Number]"===D.apply(e)&&!A.isNaN(e)},isNaN:function(e){return e!=e},isRegex:function(e){return e instanceof RegExp},isLinkTag:function(e){return!(!e||!e.nodeName||"a"!==e.nodeName.toLowerCase())},each:function(e,t,a){for(var i=0,n=e.length;i<n;i++)t.call(a,e[i],i,e)},map:function(e,t,a){for(var i=[],n=0,r=e.length;n<r;n++)i.push(t.call(a,e[n],n,e));return i},filter:function(e,t,a){for(var i=[],n=0,r=e.length;n<r;n++){var s=e[n];t.call(a,s,n,e)&&i.push(s)}return i},any:function(e,t,a){for(var i=0,n=e.length;i<n;i++){var r=e[i];if(t.call(a,r,i,e))return!0}return!1},every:function(e,t,a){for(var i=!0,n=0,r=e.length;n<r;n++){var s=e[n];i=i&&t.call(a,s,n,e)}return i},contains:function(e,t){return-1!==A.indexOf(e,t)},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var a=e.length;a--;)if(t===e[a])return a;return-1},find:function(e,t,a){if(!e)return null;for(var i=0,n=e.length;i<n;i++){var r=e[i];if(t.call(a,r,i,e))return r}return null},textMatch:function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))},stringify:function(e,t){if(t=t||[],A.isObject(e)){if(A.contains(t,e))return"<Cycle>";t.push(e)}if(A.isArray(e))return"["+A.map(e,function(e){return A.stringify(e,t)}).join(",")+"]";if(A.isString(e))return'"'+String(e)+'"';if(A.isObject(e)){var a=[];for(var i in e)e.hasOwnProperty(i)&&a.push(i+": "+A.stringify(e[i],t));return"{"+a.join(", ")+"}"}return String(e)},trim:function(e){return null==e?null:e.trim?e.trim():e.replace(/^ */,"").replace(/ *$/,"")},bind:function(e,t){return function(){return e.apply(t,arguments)}},throttle:function(e,t){var a=null;return function(){var i=this,n=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(i,n)},t)}},domReady:function(t){function i(e){for(g=1;e=r.shift();)e()}var n,r=[],s=!1,o=a,l=o.documentElement,c=l.doScroll,u="DOMContentLoaded",d="addEventListener",p="onreadystatechange",g=/^loade|^c/.test(o.readyState);return o[d]&&o[d](u,n=function(){o.removeEventListener(u,n,s),i()},s),c&&o.attachEvent(p,n=function(){/^c/.test(o.readyState)&&(o.detachEvent(p,n),i())}),t=c?function(a){self!=top?g?a():r.push(a):function(){try{l.doScroll("left")}catch(e){return setTimeout(function(){t(a)},50)}a()}()}:function(e){g?e():r.push(e)}}(),loadScript:function(e,t){var i=a.createElement("script");A.scriptOnLoad(e,i,t),i.src=e,a.getElementsByTagName("head")[0].appendChild(i)},scriptOnLoad:function(e,t,a){function i(e){e&&A.logError(e),a&&a(e)}"onload"in t?(t.onload=function(){i()},t.onerror=function(){i(new Error("Failed to load script "+e))}):"readyState"in t&&(t.onreadystatechange=function(){var e=t.readyState;"loaded"!==e&&"complete"!==e||(t.onreadystatechange=null,i())})},loadScriptOnce:function(e,t){A.loadedScriptRegistry[e]||A.loadScript(e,function(a){a||(A.loadedScriptRegistry[e]=!0),t&&t(a)})},loadedScriptRegistry:{},loadScriptSync:function(e){a.write?A.domReadyFired?A.notify('Cannot load sync the "'+e+'" script after DOM Ready.',1):(e.indexOf('"')>-1&&(e=encodeURI(e)),a.write('<script src="'+e+'"></script>')):A.notify('Cannot load sync the "'+e+'" script because "document.write" is not available',1)},pushAsyncScript:function(e){A.tools["default"].pushAsyncScript(e)},pushBlockingScript:function(e){A.tools["default"].pushBlockingScript(e)},addEventHandler:t.addEventListener?function(e,t,a){e.addEventListener(t,a,!1)}:function(e,t,a){e.attachEvent("on"+t,a)},removeEventHandler:t.removeEventListener?function(e,t,a){e.removeEventListener(t,a,!1)}:function(e,t,a){e.detachEvent("on"+t,a)},preventDefault:t.addEventListener?function(e){e.preventDefault()}:function(e){e.returnValue=!1},stopPropagation:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},containsElement:function(e,t){return e.contains?e.contains(t):!!(16&e.compareDocumentPosition(t))},matchesCss:function(i){function n(e,t){var a=t.tagName;return!!a&&e.toLowerCase()===a.toLowerCase()}var r=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.oMatchesSelector||i.msMatchesSelector;return r?function(i,n){if(n===a||n===t)return!1;try{return r.call(n,i)}catch(e){return!1}}:i.querySelectorAll?function(t,a){if(!a.parentNode)return!1;if(t.match(/^[a-z]+$/i))return n(t,a);try{for(var i=a.parentNode.querySelectorAll(t),r=i.length;r--;)if(i[r]===a)return!0}catch(e){}return!1}:function(t,a){if(t.match(/^[a-z]+$/i))return n(t,a);try{return A.Sizzle.matches(t,[a]).length>0}catch(e){return!1}}}(a.documentElement),cssQuery:(P=a,P.querySelectorAll?function(t,a){var i;try{i=P.querySelectorAll(t)}catch(e){i=[]}a(i)}:function(t,a){if(A.Sizzle){var i;try{i=A.Sizzle(t)}catch(e){i=[]}a(i)}else A.sizzleQueue.push([t,a])}),hasAttr:function(e,t){return e.hasAttribute?e.hasAttribute(t):e[t]!==i},inherit:function(e,t){var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e},extend:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},toArray:function(){try{var t=Array.prototype.slice;return t.call(a.documentElement.childNodes,0)[0].nodeType,function(e){return t.call(e,0)}}catch(e){return function(e){for(var t=[],a=0,i=e.length;a<i;a++)t.push(e[a]);return t}}}(),equalsIgnoreCase:function(e,t){return null==e?null==t:null!=t&&String(e).toLowerCase()===String(t).toLowerCase()},poll:function(e,t,a){function i(){A.isNumber(a)&&n++>=a||e()||setTimeout(i,t)}var n=0;t=t||1e3,i()},escapeForHtml:function(e){return e?String(e).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}};A.availableTools={},A.availableEventEmitters=[],A.fireOnceEvents=["condition","elementexists"],A.initEventEmitters=function(){A.eventEmitters=A.map(A.availableEventEmitters,function(e){return new e})},A.eventEmitterBackgroundTasks=function(){A.each(A.eventEmitters,function(e){"backgroundTasks"in e&&e.backgroundTasks()})},A.initTools=function(e){var t={"default":new v},a=A.settings.euCookieName||"sat_track";for(var i in e)if(e.hasOwnProperty(i)){var n,r,s;if((n=e[i]).euCookie)if("true"!==A.readCookie(a))continue;if(!(r=A.availableTools[n.engine])){var o=[];for(var l in A.availableTools)A.availableTools.hasOwnProperty(l)&&o.push(l);throw new Error("No tool engine named "+n.engine+", available: "+o.join(",")+".")}(s=new r(n)).id=i,t[i]=s}return t},A.preprocessArguments=function(e,t,a,i,n){function r(e){return i&&A.isString(e)?e.toLowerCase():e}function s(e){var l={};for(var c in e)if(e.hasOwnProperty(c)){var u=e[c];A.isObject(u)?l[c]=s(u):A.isArray(u)?l[c]=o(u,i):l[c]=r(A.replace(u,t,a,n))}return l}function o(e){for(var i=[],n=0,o=e.length;n<o;n++){var l=e[n];A.isString(l)?l=r(A.replace(l,t,a)):l&&l.constructor===Object&&(l=s(l)),i.push(l)}return i}return e?o(e,i):e},A.execute=function(t,a,i,n){function r(r){var s=n[r||"default"];if(s)try{s.triggerCommand(t,a,i)}catch(e){A.logError(e)}}if(!_satellite.settings.hideActivity)if(n=n||A.tools,t.engine){var s=t.engine;for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];l.settings&&l.settings.engine===s&&r(o)}}else t.tool instanceof Array?A.each(t.tool,function(e){r(e)}):r(t.tool)},A.Logger={outputEnabled:!1,messages:[],keepLimit:100,flushed:!1,LEVELS:[null,null,"log","info","warn","error"],message:function(e,t){var a=this.LEVELS[t]||"log";this.messages.push([a,e]),this.messages.length>this.keepLimit&&this.messages.shift(),this.outputEnabled&&this.echo(a,e)},getHistory:function(){return this.messages},clearHistory:function(){this.messages=[]},setOutputState:function(e){this.outputEnabled!=e&&(this.outputEnabled=e,e?this.flush():this.flushed=!1)},echo:function(e,a){t.console&&t.console[e]("SATELLITE: "+a)},flush:function(){this.flushed||(A.each(this.messages,function(e){!0!==e[2]&&(this.echo(e[0],e[1]),e[2]=!0)},this),this.flushed=!0)}},A.notify=A.bind(A.Logger.message,A.Logger),A.cleanText=function(e){return null==e?null:A.trim(e).replace(/\s+/g," ")},A.cleanText.legacy=function(e){return null==e?null:A.trim(e).replace(/\s{2,}/g," ").replace(/[^\000-\177]*/g,"")},A.text=function(e){return e.textContent||e.innerText},A.specialProperties={text:A.text,cleanText:function(e){return A.cleanText(A.text(e))}},A.getObjectProperty=function(e,t,a){for(var n,r=t.split("."),s=e,o=A.specialProperties,l=0,c=r.length;l<c;l++){if(null==s)return i;var u=r[l];if(a&&"@"===u.charAt(0))s=o[u.slice(1)](s);else if(s.getAttribute&&(n=u.match(/^getAttribute\((.+)\)$/))){var d=n[1];s=s.getAttribute(d)}else s=s[u]}return s},A.getToolsByType=function(e){if(!e)throw new Error("Tool type is missing");var t=[];for(var a in A.tools)if(A.tools.hasOwnProperty(a)){var i=A.tools[a];i.settings&&i.settings.engine===e&&t.push(i)}return t},A.setVar=function(){var e=A.data.customVars;if(null==e&&(A.data.customVars={},e=A.data.customVars),"string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}},A.dataElementSafe=function(e,t){if(arguments.length>2){var a=arguments[2];"pageview"===t?A.dataElementSafe.pageviewCache[e]=a:"session"===t?A.setCookie("_sdsat_"+e,a):"visitor"===t&&A.setCookie("_sdsat_"+e,a,730)}else{if("pageview"===t)return A.dataElementSafe.pageviewCache[e];if("session"===t||"visitor"===t)return A.readCookie("_sdsat_"+e)}},A.dataElementSafe.pageviewCache={},A.realGetDataElement=function(e){var a;return e.selector?A.hasSelector&&A.cssQuery(e.selector,function(t){if(t.length>0){var i=t[0];"text"===e.property?a=i.innerText||i.textContent:e.property in i?a=i[e.property]:A.hasAttr(i,e.property)&&(a=i.getAttribute(e.property))}}):e.queryParam?a=e.ignoreCase?A.getQueryParamCaseInsensitive(e.queryParam):A.getQueryParam(e.queryParam):e.cookie?a=A.readCookie(e.cookie):e.jsVariable?a=A.getObjectProperty(t,e.jsVariable):e.customJS?a=e.customJS():e.contextHub&&(a=e.contextHub()),A.isString(a)&&e.cleanText&&(a=A.cleanText(a)),a},A.getDataElement=function(e,t,a){if(null==(a=a||A.dataElements[e]))return A.settings.undefinedVarsReturnEmpty?"":null;var n=A.realGetDataElement(a);return n===i&&a.storeLength?n=A.dataElementSafe(e,a.storeLength):n!==i&&a.storeLength&&A.dataElementSafe(e,a.storeLength,n),n||t||(n=a["default"]||""),A.isString(n)&&a.forceLowerCase&&(n=n.toLowerCase()),n},A.getVar=function(e,n,r){var s,o,l=A.data.customVars,c=r?r.target||r.srcElement:null,u={uri:A.URI(),protocol:a.location.protocol,hostname:a.location.hostname};if(A.dataElements&&e in A.dataElements)return A.getDataElement(e);if((o=u[e.toLowerCase()])===i)if("this."===e.substring(0,5))e=e.slice(5),o=A.getObjectProperty(n,e,!0);else if("event."===e.substring(0,6))e=e.slice(6),o=A.getObjectProperty(r,e);else if("target."===e.substring(0,7))e=e.slice(7),o=A.getObjectProperty(c,e);else if("window."===e.substring(0,7))e=e.slice(7),o=A.getObjectProperty(t,e);else if("param."===e.substring(0,6))e=e.slice(6),o=A.getQueryParam(e);else if(s=e.match(/^rand([0-9]+)$/)){var d=Number(s[1]),p=(Math.random()*(Math.pow(10,d)-1)).toFixed(0);o=Array(d-p.length+1).join("0")+p}else o=A.getObjectProperty(l,e);return o},A.getVars=function(e,t,a){var i={};return A.each(e,function(e){i[e]=A.getVar(e,t,a)}),i},A.replace=function(e,t,a,i){return"string"!=typeof e?e:e.replace(/%(.*?)%/g,function(e,n){var r=A.getVar(n,t,a);return null==r?A.settings.undefinedVarsReturnEmpty?"":e:i?A.escapeForHtml(r):r})},A.escapeHtmlParams=function(e){return e.escapeHtml=!0,e},A.searchVariables=function(e,t,a){if(!e||0===e.length)return"";for(var i=[],n=0,r=e.length;n<r;n++){var s=e[n],o=A.getVar(s,t,a);i.push(s+"="+escape(o))}return"?"+i.join("&")},A.fireRule=function(e,t,a){var i=e.trigger;if(i){for(var n=0,r=i.length;n<r;n++){var s=i[n];A.execute(s,t,a)}A.contains(A.fireOnceEvents,e.event)&&(e.expired=!0)}},A.isLinked=function(e){for(var t=e;t;t=t.parentNode)if(A.isLinkTag(t))return!0;return!1},A.firePageLoadEvent=function(e){for(var t=a.location,i={type:e,target:t},n=A.pageLoadRules,r=A.evtHandlers[i.type],s=n.length;s--;){var o=n[s];A.ruleMatches(o,i,t)&&(A.notify('Rule "'+o.name+'" fired.',1),A.fireRule(o,t,i))}for(var l in A.tools)if(A.tools.hasOwnProperty(l)){var c=A.tools[l];c.endPLPhase&&c.endPLPhase(e)}r&&A.each(r,function(e){e(i)})},A.track=function(e){e=e.replace(/^\s*/,"").replace(/\s*$/,"");for(var t=0;t<A.directCallRules.length;t++){var a=A.directCallRules[t];if(a.name===e)return A.notify('Direct call Rule "'+e+'" fired.',1),void A.fireRule(a,location,{type:e})}A.notify('Direct call Rule "'+e+'" not found.',1)},A.basePath=function(){return A.data.host?("https:"===a.location.protocol?"https://"+A.data.host.https:"http://"+A.data.host.http)+"/":this.settings.basePath},A.setLocation=function(e){t.location=e},A.parseQueryParams=function(e){var t=function(e){var t=e;try{t=decodeURIComponent(e)}catch(a){}return t};if(""===e||!1===A.isString(e))return{};0===e.indexOf("?")&&(e=e.substring(1));var a={},i=e.split("&");return A.each(i,function(e){(e=e.split("="))[1]&&(a[t(e[0])]=t(e[1]))}),a},A.getCaseSensitivityQueryParamsMap=function(e){var t=A.parseQueryParams(e),a={};for(var i in t)t.hasOwnProperty(i)&&(a[i.toLowerCase()]=t[i]);return{normal:t,caseInsensitive:a}},A.updateQueryParams=function(){A.QueryParams=A.getCaseSensitivityQueryParamsMap(t.location.search)},A.updateQueryParams(),A.getQueryParam=function(e){return A.QueryParams.normal[e]},A.getQueryParamCaseInsensitive=function(e){return A.QueryParams.caseInsensitive[e.toLowerCase()]},A.encodeObjectToURI=function(e){if(!1===A.isObject(e))return"";var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},A.readCookie=function(e){for(var t=e+"=",n=a.cookie.split(";"),r=0;r<n.length;r++){for(var s=n[r];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return i},A.setCookie=function(e,t,i){var n;if(i){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3),n="; expires="+r.toGMTString()}else n="";a.cookie=e+"="+t+n+"; path=/"},A.removeCookie=function(e){A.setCookie(e,"",-1)},A.getElementProperty=function(e,t){if("@"===t.charAt(0)){var a=A.specialProperties[t.substring(1)];if(a)return a(e)}return"innerText"===t?A.text(e):t in e?e[t]:e.getAttribute?e.getAttribute(t):i},A.propertiesMatch=function(e,t){if(e)for(var a in e)if(e.hasOwnProperty(a)){var i=e[a],n=A.getElementProperty(t,a);if("string"==typeof i&&i!==n)return!1;if(i instanceof RegExp&&!i.test(n))return!1}return!0},A.isRightClick=function(e){var t;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},A.ruleMatches=function(t,a,i,n){var r=t.condition,s=t.conditions,o=t.property,l=a.type,c=t.value,u=a.target||a.srcElement,d=i===u;if(t.event!==l&&("custom"!==t.event||t.customEvent!==l))return!1;if(!A.ruleInScope(t))return!1;if("click"===t.event&&A.isRightClick(a))return!1;if(t.isDefault&&n>0)return!1;if(t.expired)return!1;if("inview"===l&&a.inviewDelay!==t.inviewDelay)return!1;if(!d&&(!1===t.bubbleFireIfParent||0!==n&&!1===t.bubbleFireIfChildFired))return!1;if(t.selector&&!A.matchesCss(t.selector,i))return!1;if(!A.propertiesMatch(o,i))return!1;if(null!=c)if("string"==typeof c){if(c!==i.value)return!1}else if(!c.test(i.value))return!1;if(r)try{if(!r.call(i,a,u))return A.notify('Condition for rule "'+t.name+'" not met.',1),!1}catch(e){return A.notify('Condition for rule "'+t.name+'" not met. Error: '+e.message,1),!1}if(s){var p=A.find(s,function(n){try{return!n.call(i,a,u)}catch(e){return A.notify('Condition for rule "'+t.name+'" not met. Error: '+e.message,1),!0}});if(p)return A.notify("Condition "+p.toString()+' for rule "'+t.name+'" not met.',1),!1}return!0},A.evtHandlers={},A.bindEvent=function(e,t){var a=A.evtHandlers;a[e]||(a[e]=[]),a[e].push(t)},A.whenEvent=A.bindEvent,A.unbindEvent=function(e,t){var a=A.evtHandlers;if(a[e]){var i=A.indexOf(a[e],t);a[e].splice(i,1)}},A.bindEventOnce=function(e,t){var a=function(){A.unbindEvent(e,a),t.apply(null,arguments)};A.bindEvent(e,a)},A.isVMLPoisoned=function(t){if(!t)return!1;try{t.nodeName}catch(e){if("Attribute only valid on v:image"===e.message)return!0}return!1},A.handleEvent=function(e){if(!A.$data(e,"eventProcessed")){var t=e.type.toLowerCase(),a=e.target||e.srcElement,i=0,n=A.rules,r=(A.tools,A.evtHandlers[e.type]);if(A.isVMLPoisoned(a))A.notify("detected "+t+" on poisoned VML element, skipping.",1);else{r&&A.each(r,function(t){t(e)}),a&&a.nodeName?A.notify("detected "+t+" on "+a.nodeName,1):A.notify("detected "+t,1);for(var s=a;s;s=s.parentNode){var o=!1;if(A.each(n,function(t){A.ruleMatches(t,e,s,i)&&(A.notify('Rule "'+t.name+'" fired.',1),A.fireRule(t,s,e),i++,t.bubbleStop&&(o=!0))}),o)break}A.$data(e,"eventProcessed",!0)}}},A.onEvent=a.querySelectorAll?function(e){A.handleEvent(e)}:(V=[],(I=function(e){e.selector?V.push(e):A.handleEvent(e)}).pendingEvents=V,I),A.fireEvent=function(e,t){A.onEvent({type:e,target:t})},A.registerEvents=function(e,t){for(var a=t.length-1;a>=0;a--){var i=t[a];A.$data(e,i+".tracked")||(A.addEventHandler(e,i,A.onEvent),A.$data(e,i+".tracked",!0))}},A.registerEventsForTags=function(e,t){for(var i=e.length-1;i>=0;i--)for(var n=e[i],r=a.getElementsByTagName(n),s=r.length-1;s>=0;s--)A.registerEvents(r[s],t)},A.setListeners=function(){var e=["click","submit"];A.each(A.rules,function(t){"custom"===t.event&&t.hasOwnProperty("customEvent")&&!A.contains(e,t.customEvent)&&e.push(t.customEvent)}),A.registerEvents(a,e)},A.getUniqueRuleEvents=function(){return A._uniqueRuleEvents||(A._uniqueRuleEvents=[],A.each(A.rules,function(e){-1===A.indexOf(A._uniqueRuleEvents,e.event)&&A._uniqueRuleEvents.push(e.event)})),A._uniqueRuleEvents},A.setFormListeners=function(){if(!A._relevantFormEvents){var e=["change","focus","blur","keypress"];A._relevantFormEvents=A.filter(A.getUniqueRuleEvents(),function(t){return-1!==A.indexOf(e,t)})}A._relevantFormEvents.length&&A.registerEventsForTags(["input","select","textarea","button"],A._relevantFormEvents)},A.setVideoListeners=function(){if(!A._relevantVideoEvents){var e=["play","pause","ended","volumechange","stalled","loadeddata"];A._relevantVideoEvents=A.filter(A.getUniqueRuleEvents(),function(t){return-1!==A.indexOf(e,t)})}A._relevantVideoEvents.length&&A.registerEventsForTags(["video"],A._relevantVideoEvents)},A.readStoredSetting=function(a){try{return a="sdsat_"+a,t.localStorage.getItem(a)}catch(e){return A.notify("Cannot read stored setting from localStorage: "+e.message,2),null}},A.loadStoredSettings=function(){var e=A.readStoredSetting("debug"),t=A.readStoredSetting("hide_activity");e&&(A.settings.notifications="true"===e),t&&(A.settings.hideActivity="true"===t)},A.isRuleActive=function(e,t){function a(e,t){return t=n(t,{hour:e[g](),minute:e[f]()}),Math.floor(Math.abs((e.getTime()-t.getTime())/864e5))}function i(e,t){function a(e){return 12*e[d]()+e[p]()}return Math.abs(a(e)-a(t))}function n(e,t){var a=new Date(e.getTime());for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];switch(i){case"hour":a[h](n);break;case"minute":a[m](n);break;case"date":a[v](n)}}return a}function r(e,t){return 60*e[g]()+e[f]()>60*t[g]()+t[f]()}function s(e,t){return 60*e[g]()+e[f]()<60*t[g]()+t[f]()}var o=e.schedule;if(!o)return!0;var l=o.utc,c=l?"getUTCDate":"getDate",u=l?"getUTCDay":"getDay",d=l?"getUTCFullYear":"getFullYear",p=l?"getUTCMonth":"getMonth",g=l?"getUTCHours":"getHours",f=l?"getUTCMinutes":"getMinutes",h=l?"setUTCHours":"setHours",m=l?"setUTCMinutes":"setMinutes",v=l?"setUTCDate":"setDate";if(t=t||new Date,o.repeat){if(r(o.start,t))return!1;if(s(o.end,t))return!1;if(t<o.start)return!1;if(o.endRepeat&&t>=o.endRepeat)return!1;if("daily"===o.repeat){if(o.repeatEvery)if(a(o.start,t)%o.repeatEvery!=0)return!1}else if("weekly"===o.repeat){if(o.days){if(!A.contains(o.days,t[u]()))return!1}else if(o.start[u]()!==t[u]())return!1;if(o.repeatEvery)if(a(o.start,t)%(7*o.repeatEvery)!=0)return!1}else if("monthly"===o.repeat){if(o.repeatEvery)if(i(o.start,t)%o.repeatEvery!=0)return!1;if(o.nthWeek&&o.mthDay){if(o.mthDay!==t[u]())return!1;var y=Math.floor((t[c]()-t[u]()+1)/7);if(o.nthWeek!==y)return!1}else if(o.start[c]()!==t[c]())return!1}else if("yearly"===o.repeat){if(o.start[p]()!==t[p]())return!1;if(o.start[c]()!==t[c]())return!1;if(o.repeatEvery)if(Math.abs(o.start[d]()-t[d]())%o.repeatEvery!=0)return!1}}else{if(o.start>t)return!1;if(o.end<t)return!1}return!0},A.isOutboundLink=function(e){if(!e.getAttribute("href"))return!1;var t=e.hostname,a=(e.href,e.protocol);return("http:"===a||"https:"===a)&&(!A.any(A.settings.domainList,function(e){return A.isSubdomainOf(t,e)})&&t!==location.hostname)},A.isLinkerLink=function(e){return!(!e.getAttribute||!e.getAttribute("href"))&&(A.hasMultipleDomains()&&e.hostname!=location.hostname&&!e.href.match(/^javascript/i)&&!A.isOutboundLink(e))},A.isSubdomainOf=function(e,t){if(e===t)return!0;var a=e.length-t.length;return a>0&&A.equalsIgnoreCase(e.substring(a),t)},A.getVisitorId=function(){var e=A.getToolsByType("visitor_id");return 0===e.length?null:e[0].getInstance()},A.URI=function(){var e=a.location.pathname+a.location.search;return A.settings.forceLowerCase&&(e=e.toLowerCase()),e},A.URL=function(){var e=a.location.href;return A.settings.forceLowerCase&&(e=e.toLowerCase()),e},A.filterRules=function(){function e(e){return!!A.isRuleActive(e)}A.rules=A.filter(A.rules,e),A.pageLoadRules=A.filter(A.pageLoadRules,e)},A.ruleInScope=function(e,t){function i(e,t){function a(e){return t.match(e)}var i=e.include,r=e.exclude;if(i&&n(i,t))return!0;if(r){if(A.isString(r)&&r===t)return!0;if(A.isArray(r)&&A.any(r,a))return!0;if(A.isRegex(r)&&a(r))return!0}return!1}function n(e,t){function a(e){return t.match(e)}return!(!A.isString(e)||e===t)||(!(!A.isArray(e)||A.any(e,a))||!(!A.isRegex(e)||a(e)))}t=t||a.location;var r=e.scope;if(!r)return!0;var s=r.URI,o=r.subdomains,l=r.domains,c=r.protocols,u=r.hashes;return(!s||!i(s,t.pathname+t.search))&&((!o||!i(o,t.hostname))&&((!l||!n(l,t.hostname))&&((!c||!n(c,t.protocol))&&(!u||!i(u,t.hash)))))},A.backgroundTasks=function(){new Date;A.setFormListeners(),A.setVideoListeners(),A.loadStoredSettings(),A.registerNewElementsForDynamicRules(),A.eventEmitterBackgroundTasks();new Date},A.registerNewElementsForDynamicRules=function(){function e(t,a){var i=e.cache[t];if(i)return a(i);A.cssQuery(t,function(i){e.cache[t]=i,a(i)})}e.cache={},A.each(A.dynamicRules,function(t){e(t.selector,function(e){A.each(e,function(e){var a="custom"===t.event?t.customEvent:t.event;A.$data(e,"dynamicRules.seen."+a)||(A.$data(e,"dynamicRules.seen."+a,!0),A.propertiesMatch(t.property,e)&&A.registerEvents(e,[a]))})})})},A.ensureCSSSelector=function(){a.querySelectorAll?A.hasSelector=!0:(A.loadingSizzle=!0,A.sizzleQueue=[],A.loadScript(A.basePath()+"selector.js",function(){if(A.Sizzle){var e=A.onEvent.pendingEvents;A.each(e,function(e){A.handleEvent(e)},this),A.onEvent=A.handleEvent,A.hasSelector=!0,delete A.loadingSizzle,A.each(A.sizzleQueue,function(e){A.cssQuery(e[0],e[1])}),delete A.sizzleQueue}else A.logError(new Error("Failed to load selector.js"))}))},A.errors=[],A.logError=function(e){A.errors.push(e),A.notify(e.name+" - "+e.message,5)},A.pageBottom=function(){A.initialized&&(A.pageBottomFired=!0,A.firePageLoadEvent("pagebottom"))},A.stagingLibraryOverride=function(){if("true"===A.readStoredSetting("stagingLibrary")){for(var e,t,i,n=a.getElementsByTagName("script"),r=/^(.*)satelliteLib-([a-f0-9]{40})\.js$/,s=/^(.*)satelliteLib-([a-f0-9]{40})-staging\.js$/,o=0,l=n.length;o<l&&(!(i=n[o].getAttribute("src"))||(e||(e=i.match(r)),t||(t=i.match(s)),!t));o++);if(e&&!t){var c=e[1]+"satelliteLib-"+e[2]+"-staging.js";if(a.write)a.write('<script src="'+c+'"></script>');else{var u=a.createElement("script");u.src=c,a.head.appendChild(u)}return!0}}return!1},A.checkAsyncInclude=function(){t.satellite_asyncLoad&&A.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},A.hasMultipleDomains=function(){return!!A.settings.domainList&&A.settings.domainList.length>1},A.handleOverrides=function(){if(T)for(var e in T)T.hasOwnProperty(e)&&(A.data[e]=T[e])},A.privacyManagerParams=function(){var e={};A.extend(e,A.settings.privacyManagement);var t=[];for(var a in A.tools)if(A.tools.hasOwnProperty(a)){var i=A.tools[a],n=i.settings;if(!n)continue;"sc"===n.engine&&t.push(i)}var r=A.filter(A.map(t,function(e){return e.getTrackingServer()}),function(e){return null!=e});e.adobeAnalyticsTrackingServers=r;for(var s=["bannerText","headline","introductoryText","customCSS"],o=0;o<s.length;o++){var l=s[o],c=e[l];if(c)if("text"===c.type)e[l]=c.value;else{if("data"!==c.type)throw new Error("Invalid type: "+c.type);e[l]=A.getVar(c.value)}}return e},A.prepareLoadPrivacyManager=function(){function e(e){function t(){++r===n.length&&(a(),clearTimeout(s),e())}function a(){A.each(n,function(e){A.unbindEvent(e.id+".load",t)})}function i(){a(),e()}var n=A.filter(A.values(A.tools),function(e){return e.settings&&"sc"===e.settings.engine});if(0===n.length)return e();var r=0;A.each(n,function(e){A.bindEvent(e.id+".load",t)});var s=setTimeout(i,5e3)}A.addEventHandler(t,"load",function(){e(A.loadPrivacyManager)})},A.loadPrivacyManager=function(){var e=A.basePath()+"privacy_manager.js";A.loadScript(e,function(){var e=A.privacyManager;e.configure(A.privacyManagerParams()),e.openIfRequired()})},A.init=function(e){if(!A.stagingLibraryOverride()){A.configurationSettings=e;var a=e.tools;for(var n in delete e.tools,e)e.hasOwnProperty(n)&&(A[n]=e[n]);A.data.customVars===i&&(A.data.customVars={}),A.data.queryParams=A.QueryParams.normal,A.handleOverrides(),A.detectBrowserInfo(),A.trackVisitorInfo&&A.trackVisitorInfo(),A.loadStoredSettings(),A.Logger.setOutputState(A.settings.notifications),A.checkAsyncInclude(),A.ensureCSSSelector(),A.filterRules(),A.dynamicRules=A.filter(A.rules,function(e){return e.eventHandlerOnElement}),A.tools=A.initTools(a),A.initEventEmitters(),A.firePageLoadEvent("aftertoolinit"),A.settings.privacyManagement&&A.prepareLoadPrivacyManager(),A.hasSelector&&A.domReady(A.eventEmitterBackgroundTasks),A.setListeners(),A.domReady(function(){A.poll(function(){A.backgroundTasks()},A.settings.recheckEvery||3e3)}),A.domReady(function(){A.domReadyFired=!0,A.pageBottomFired||A.pageBottom(),A.firePageLoadEvent("domready")}),A.addEventHandler(t,"load",function(){A.firePageLoadEvent("windowload")}),A.firePageLoadEvent("pagetop"),A.initialized=!0}},A.pageLoadPhases=["aftertoolinit","pagetop","pagebottom","domready","windowload"],A.loadEventBefore=function(e,t){return A.indexOf(A.pageLoadPhases,e)<=A.indexOf(A.pageLoadPhases,t)},A.flushPendingCalls=function(e){e.pending&&(A.each(e.pending,function(t){var a=t[0],i=t[1],n=t[2],r=t[3];a in e?e[a].apply(e,[i,n].concat(r)):e.emit?e.emit(a,i,n,r):A.notify("Failed to trigger "+a+" for tool "+e.id,1)}),delete e.pending)},A.setDebug=function(a){try{t.localStorage.setItem("sdsat_debug",a)}catch(e){A.notify("Cannot set debug mode: "+e.message,2)}},A.getUserAgent=function(){return navigator.userAgent},A.detectBrowserInfo=function(){function e(e){return function(t){for(var a in e){if(e.hasOwnProperty(a))if(e[a].test(t))return a}return"Unknown"}}var t=e({"IE Edge Mobile":/Windows Phone.*Edge/,"IE Edge":/Edge/,OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,Chrome:/Chrome|CriOS|CrMo/,Firefox:/Firefox|FxiOS/,"IE Mobile":/IEMobile/,IE:/MSIE|Trident/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Safari:/Safari/}),a=e({Blackberry:/BlackBerry|BB10/,"Symbian OS":/Symbian|SymbOS/,Maemo:/Maemo/,Android:/Android/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/[\( ]Windows /,iOS:/iPhone|iPad|iPod/,MacOS:/Macintosh;/}),i=e({Nokia:/Symbian|SymbOS|Maemo/,"Windows Phone":/Windows Phone/,Blackberry:/BlackBerry|BB10/,Android:/Android/,iPad:/iPad/,iPod:/iPod/,iPhone:/iPhone/,Desktop:/.*/}),n=A.getUserAgent();A.browserInfo={browser:t(n),os:a(n),deviceType:i(n)}},A.isHttps=function(){return"https:"==a.location.protocol},A.BaseTool=function(e){this.settings=e||{},this.forceLowerCase=A.settings.forceLowerCase,"forceLowerCase"in this.settings&&(this.forceLowerCase=this.settings.forceLowerCase)},A.BaseTool.prototype={triggerCommand:function(e,t,a){var i=this.settings||{};if(this.initialize&&this.isQueueAvailable()&&this.isQueueable(e)&&a&&A.loadEventBefore(a.type,i.loadOn))this.queueCommand(e,t,a);else{var n=e.command,r=this["$"+n],s=!!r&&r.escapeHtml,o=A.preprocessArguments(e.arguments,t,a,this.forceLowerCase,s);r?r.apply(this,[t,a].concat(o)):this.$missing$?this.$missing$(n,t,a,o):A.notify("Failed to trigger "+n+" for tool "+this.id,1)}},endPLPhase:function(){},isQueueable:function(e){return"cancelToolInit"!==e.command},isQueueAvailable:function(){return!this.initialized&&!this.initializing},flushQueue:function(){this.pending&&(A.each(this.pending,function(e){this.triggerCommand.apply(this,e)},this),this.pending=[])},queueCommand:function(e,t,a){this.pending||(this.pending=[]),this.pending.push([e,t,a])},$cancelToolInit:function(){this._cancelToolInit=!0}},t._satellite=A,n.orientationChange=function(e){var a=0===t.orientation?"portrait":"landscape";e.orientation=a,A.onEvent(e)},A.availableEventEmitters.push(n),r.prototype={initialize:function(){if(this.FB=this.FB||t.FB,this.FB&&this.FB.Event&&this.FB.Event.subscribe)return this.bind(),!0},bind:function(){this.FB.Event.subscribe("edge.create",function(){A.notify("tracking a facebook like",1),A.onEvent({type:"facebook.like",target:a})}),this.FB.Event.subscribe("edge.remove",function(){A.notify("tracking a facebook unlike",1),A.onEvent({type:"facebook.unlike",target:a})}),
this.FB.Event.subscribe("message.send",function(){A.notify("tracking a facebook share",1),A.onEvent({type:"facebook.send",target:a})})}},A.availableEventEmitters.push(r),s.prototype={backgroundTasks:function(){var e=this.eventHandler;A.each(this.rules,function(t){A.cssQuery(t.selector||"video",function(t){A.each(t,function(t){A.$data(t,"videoplayed.tracked")||(A.addEventHandler(t,"timeupdate",A.throttle(e,100)),A.$data(t,"videoplayed.tracked",!0))})})})},evalRule:function(e,t){var a=t.event,i=e.seekable,n=i.start(0),r=i.end(0),s=e.currentTime,o=t.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(o){var l=o[2],c=Number(o[1]),u="%"===l?function(){return c<=100*(s-n)/(r-n)}:function(){return c<=s-n};!A.$data(e,a)&&u()&&(A.$data(e,a,!0),A.onEvent({type:a,target:e}))}},onUpdateTime:function(e){var t=this.rules,a=e.target;if(a.seekable&&0!==a.seekable.length)for(var i=0,n=t.length;i<n;i++)this.evalRule(a,t[i])}},A.availableEventEmitters.push(s),o.prototype.backgroundTasks=function(){A.each(this.rules,function(e){A.cssQuery(e.selector,function(e){if(e.length>0){var t=e[0];if(A.$data(t,"elementexists.seen"))return;A.$data(t,"elementexists.seen",!0),A.onEvent({type:"elementexists",target:t})}})})},A.availableEventEmitters.push(o),l.prototype={obue:!1,initialize:function(){this.attachCloseListeners()},obuePrevUnload:function(){},obuePrevBeforeUnload:function(){},newObueListener:function(){this.obue||(this.obue=!0,this.triggerBeacons())},attachCloseListeners:function(){this.prevUnload=t.onunload,this.prevBeforeUnload=t.onbeforeunload,t.onunload=A.bind(function(e){this.prevUnload&&setTimeout(A.bind(function(){this.prevUnload.call(t,e)},this),1),this.newObueListener()},this),t.onbeforeunload=A.bind(function(e){this.prevBeforeUnload&&setTimeout(A.bind(function(){this.prevBeforeUnload.call(t,e)},this),1),this.newObueListener()},this)},triggerBeacons:function(){A.fireEvent("leave",a)}},A.availableEventEmitters.push(l),c.prototype={initialize:function(){this.setupHistoryAPI(),this.setupHashChange()},fireIfURIChanged:function(){var e=A.URL();this.lastURL!==e&&(this.fireEvent(),this.lastURL=e)},fireEvent:function(){A.updateQueryParams(),A.onEvent({type:"locationchange",target:a})},setupSPASupport:function(){this.setupHistoryAPI(),this.setupHashChange()},setupHistoryAPI:function(){var e=t.history;e&&(e.pushState&&(this.originalPushState=e.pushState,e.pushState=this._pushState),e.replaceState&&(this.originalReplaceState=e.replaceState,e.replaceState=this._replaceState)),A.addEventHandler(t,"popstate",this._onPopState)},pushState:function(){var e=this.originalPushState.apply(history,arguments);return this.onPushState(),e},replaceState:function(){var e=this.originalReplaceState.apply(history,arguments);return this.onReplaceState(),e},setupHashChange:function(){A.addEventHandler(t,"hashchange",this._onHashChange)},onReplaceState:function(){setTimeout(this._fireIfURIChanged,0)},onPushState:function(){setTimeout(this._fireIfURIChanged,0)},onPopState:function(){setTimeout(this._fireIfURIChanged,0)},onHashChange:function(){setTimeout(this._fireIfURIChanged,0)},uninitialize:function(){this.cleanUpHistoryAPI(),this.cleanUpHashChange()},cleanUpHistoryAPI:function(){history.pushState===this._pushState&&(history.pushState=this.originalPushState),history.replaceState===this._replaceState&&(history.replaceState=this.originalReplaceState),A.removeEventHandler(t,"popstate",this._onPopState)},cleanUpHashChange:function(){A.removeEventHandler(t,"hashchange",this._onHashChange)}},A.availableEventEmitters.push(c),u.prototype.getStringifiedValue=t.JSON&&t.JSON.stringify||A.stringify,u.prototype.initPolling=function(){0!==this.dataElementsNames.length&&(this.dataElementsStore=this.getDataElementsValues(),A.poll(A.bind(this.checkDataElementValues,this),1e3))},u.prototype.getDataElementsValues=function(){var e={};return A.each(this.dataElementsNames,function(t){var a=A.getVar(t);e[t]=this.getStringifiedValue(a)},this),e},u.prototype.checkDataElementValues=function(){A.each(this.dataElementsNames,A.bind(function(e){var t=this.getStringifiedValue(A.getVar(e));t!==this.dataElementsStore[e]&&(this.dataElementsStore[e]=t,A.onEvent({type:"dataelementchange("+e+")",target:a}))},this))},A.availableEventEmitters.push(u),d.prototype={backgroundTasks:function(){var e=this;A.each(this.rules,function(t){var a=t[1],i=t[0];A.cssQuery(a,function(t){A.each(t,function(t){e.trackElement(t,i)})})},this)},trackElement:function(e,t){var a=this,i=A.$data(e,"hover.delays");i?A.contains(i,t)||i.push(t):(A.addEventHandler(e,"mouseover",function(t){a.onMouseOver(t,e)}),A.addEventHandler(e,"mouseout",function(t){a.onMouseOut(t,e)}),A.$data(e,"hover.delays",[t]))},onMouseOver:function(e,t){var a=e.target||e.srcElement,i=e.relatedTarget||e.fromElement;(t===a||A.containsElement(t,a))&&!A.containsElement(t,i)&&this.onMouseEnter(t)},onMouseEnter:function(e){var t=A.$data(e,"hover.delays"),a=A.map(t,function(t){return setTimeout(function(){A.onEvent({type:"hover("+t+")",target:e})},t)});A.$data(e,"hover.delayTimers",a)},onMouseOut:function(e,t){var a=e.target||e.srcElement,i=e.relatedTarget||e.toElement;(t===a||A.containsElement(t,a))&&!A.containsElement(t,i)&&this.onMouseLeave(t)},onMouseLeave:function(e){var t=A.$data(e,"hover.delayTimers");t&&A.each(t,function(e){clearTimeout(e)})}},A.availableEventEmitters.push(d),p.prototype={defineEvents:function(){this.oldBlurClosure=function(){A.fireEvent("tabblur",a)},this.oldFocusClosure=A.bind(function(){this.visibilityApiHasPriority?A.fireEvent("tabfocus",a):null!=A.visibility.getHiddenProperty()&&A.visibility.isHidden()||A.fireEvent("tabfocus",a)},this)},attachDetachModernEventListeners:function(e){A[0==e?"removeEventHandler":"addEventHandler"](a,A.visibility.getVisibilityEvent(),this.handleVisibilityChange)},attachDetachOlderEventListeners:function(e,a,i){var n=0==e?"removeEventHandler":"addEventHandler";A[n](a,i,this.oldBlurClosure),A[n](t,"focus",this.oldFocusClosure)},handleVisibilityChange:function(){A.visibility.isHidden()?A.fireEvent("tabblur",a):A.fireEvent("tabfocus",a)},setVisibilityApiPriority:function(e){this.visibilityApiHasPriority=e,this.attachDetachOlderEventListeners(!1,t,"blur"),this.attachDetachModernEventListeners(!1),e?null!=A.visibility.getHiddenProperty()?this.attachDetachModernEventListeners(!0):this.attachDetachOlderEventListeners(!0,t,"blur"):(this.attachDetachOlderEventListeners(!0,t,"blur"),null!=A.visibility.getHiddenProperty()&&this.attachDetachModernEventListeners(!0))},oldBlurClosure:null,oldFocusClosure:null,visibilityApiHasPriority:!0},A.availableEventEmitters.push(p),g.prototype={initialize:function(){var e=this.twttr;e&&"function"==typeof e.ready&&e.ready(A.bind(this.bind,this))},bind:function(){this.twttr.events.bind("tweet",function(e){e&&(A.notify("tracking a tweet button",1),A.onEvent({type:"twitter.tweet",target:a}))})}},A.availableEventEmitters.push(g),f.offset=function(i){var n=null,r=null;try{var s=i.getBoundingClientRect(),o=a,l=o.documentElement,c=o.body,u=t,d=l.clientTop||c.clientTop||0,p=l.clientLeft||c.clientLeft||0,g=u.pageYOffset||l.scrollTop||c.scrollTop,f=u.pageXOffset||l.scrollLeft||c.scrollLeft;n=s.top+g-d,r=s.left+f-p}catch(e){}return{top:n,left:r}},f.getViewportHeight=function(){var e=t.innerHeight,i=a.compatMode;return i&&(e="CSS1Compat"==i?a.documentElement.clientHeight:a.body.clientHeight),e},f.getScrollTop=function(){return a.documentElement.scrollTop?a.documentElement.scrollTop:a.body.scrollTop},f.isElementInDocument=function(e){return a.body.contains(e)},f.isElementInView=function(e){if(!f.isElementInDocument(e))return!1;var t=f.getViewportHeight(),a=f.getScrollTop(),i=f.offset(e).top,n=e.offsetHeight;return null!==i&&!(a>i+n||a+t<i)},f.prototype={backgroundTasks:function(){var e=this.elements;A.each(this.rules,function(t){A.cssQuery(t.selector,function(a){var i=0;A.each(a,function(t){A.contains(e,t)||(e.push(t),i++)}),i&&A.notify(t.selector+" added "+i+" elements.",1)})}),this.track()},checkInView:function(e,t,a){var i=A.$data(e,"inview");if(f.isElementInView(e)){i||A.$data(e,"inview",!0);var n=this;this.processRules(e,function(a,i,r){if(t||!a.inviewDelay)A.$data(e,i,!0),A.onEvent({type:"inview",target:e,inviewDelay:a.inviewDelay});else if(a.inviewDelay){var s=A.$data(e,r);s||(s=setTimeout(function(){n.checkInView(e,!0,a.inviewDelay)},a.inviewDelay),A.$data(e,r,s))}},a)}else{if(!f.isElementInDocument(e)){var r=A.indexOf(this.elements,e);this.elements.splice(r,1)}i&&A.$data(e,"inview",!1),this.processRules(e,function(t,a,i){var n=A.$data(e,i);n&&clearTimeout(n)},a)}},track:function(){for(var e=this.elements.length-1;e>=0;e--)this.checkInView(this.elements[e])},processRules:function(e,t,a){var i=this.rules;a&&(i=A.filter(this.rules,function(e){return e.inviewDelay==a})),A.each(i,function(a,i){var n=a.inviewDelay?"viewed_"+a.inviewDelay:"viewed",r="inview_timeout_id_"+i;A.$data(e,n)||A.matchesCss(a.selector,e)&&t(a,n,r)})}},A.availableEventEmitters.push(f),A.inherit(h,A.BaseTool),A.extend(h.prototype,{initialize:function(){var e=this.settings;if(!1!==this.settings.initTool){var t=e.url;t="string"==typeof t?A.basePath()+t:A.isHttps()?t.https:t.http,A.loadScript(t,A.bind(this.onLoad,this)),this.initializing=!0}else this.initialized=!0},isQueueAvailable:function(){return!this.initialized},onLoad:function(){this.initialized=!0,this.initializing=!1,this.settings.initialBeacon&&this.settings.initialBeacon(),this.flushQueue()},endPLPhase:function(e){e===this.settings.loadOn&&(A.notify(this.name+": Initializing at "+e,1),this.initialize())},$fire:function(e,t,a){this.initializing?this.queueCommand({command:"fire",arguments:[a]},e,t):a.call(this.settings,e,t)}}),A.availableTools.am=h,A.availableTools.adlens=h,A.availableTools.aem=h,A.availableTools.__basic=h,A.extend(m.prototype,{getInstance:function(){return this.instance},initialize:function(){var e,t=this.settings;A.notify("Visitor ID: Initializing tool",1),null!==(e=this.createInstance(t.mcOrgId,t.initVars))&&(t.customerIDs&&this.applyCustomerIDs(e,t.customerIDs),t.autoRequest&&e.getMarketingCloudVisitorID(),this.instance=e)},createInstance:function(e,t){if(!A.isString(e))return A.notify('Visitor ID: Cannot create instance using mcOrgId: "'+e+'"',4),null;e=A.replace(e),A.notify('Visitor ID: Create instance using mcOrgId: "'+e+'"',1),t=this.parseValues(t);var a=Visitor.getInstance(e,t);return A.notify("Visitor ID: Set variables: "+A.stringify(t),1),a},applyCustomerIDs:function(e,t){var a=this.parseIds(t);e.setCustomerIDs(a),A.notify("Visitor ID: Set Customer IDs: "+A.stringify(a),1)},parseValues:function(e){if(!1===A.isObject(e))return{};var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=A.replace(e[a]));return t},parseIds:function(e){var t={};if(!1===A.isObject(e))return{};for(var a in e)if(e.hasOwnProperty(a)){var i=A.replace(e[a].id);i!==e[a].id&&i&&(t[a]={},t[a].id=i,t[a].authState=Visitor.AuthState[e[a].authState])}return t}}),A.availableTools.visitor_id=m,A.inherit(v,A.BaseTool),A.extend(v.prototype,{name:"Default",$loadIframe:function(e,a,i){var n=i.pages,r=i.loadOn,s=A.bind(function(){A.each(n,function(t){this.loadIframe(e,a,t)},this)},this);r||s(),"domready"===r&&A.domReady(s),"load"===r&&A.addEventHandler(t,"load",s)},loadIframe:function(e,t,i){var n=a.createElement("iframe");n.style.display="none";var r=A.data.host,s=i.data,o=this.scriptURL(i.src),l=A.searchVariables(s,e,t);r&&(o=A.basePath()+o),o+=l,n.src=o;var c=a.getElementsByTagName("body")[0];c?c.appendChild(n):A.domReady(function(){a.getElementsByTagName("body")[0].appendChild(n)})},scriptURL:function(e){return(A.settings.scriptDir||"")+e},$loadScript:function(e,a,i){var n=i.scripts,r=i.sequential,s=i.loadOn,o=A.bind(function(){r?this.loadScripts(e,a,n):A.each(n,function(t){this.loadScripts(e,a,[t])},this)},this);s?"domready"===s?A.domReady(o):"load"===s&&A.addEventHandler(t,"load",o):o()},loadScripts:function(t,a,i){function n(){s.length>0&&r&&s.shift().call(t,a,o);var e=i.shift();if(e){var c=A.data.host,u=l.scriptURL(e.src);c&&(u=A.basePath()+u),r=e,A.loadScript(u,n)}}try{i=i.slice(0);var r,s=this.asyncScriptCallbackQueue,o=a.target||a.srcElement,l=this}catch(e){console.error("scripts is",A.stringify(i))}n()},$loadBlockingScript:function(e,t,a){var i=a.scripts;a.loadOn;A.bind(function(){A.each(i,function(a){this.loadBlockingScript(e,t,a)},this)},this)()},loadBlockingScript:function(e,t,a){var i=this.scriptURL(a.src),n=A.data.host,r=t.target||t.srcElement;n&&(i=A.basePath()+i),this.argsForBlockingScripts.push([e,t,r]),A.loadScriptSync(i)},pushAsyncScript:function(e){this.asyncScriptCallbackQueue.push(e)},pushBlockingScript:function(e){var t=this.argsForBlockingScripts.shift(),a=t[0];e.apply(a,t.slice(1))},$writeHTML:A.escapeHtmlParams(function(e,t){if(!A.domReadyFired&&a.write)if("pagebottom"===t.type||"pagetop"===t.type)for(var i=2,n=arguments.length;i<n;i++){var r=arguments[i].html;r=A.replace(r,e,t),a.write(r)}else A.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1);else A.notify("Command writeHTML failed. You should try appending HTML using the async option.",1)}),linkNeedsDelayActivate:function(e,a){a=a||t;var i=e.tagName,n=e.getAttribute("target"),r=e.getAttribute("href");return(!i||"a"===i.toLowerCase())&&(!!r&&(!n||"_blank"!==n&&("_top"===n?a.top===a:"_parent"!==n&&("_self"===n||(!a.name||n===a.name)))))},$delayActivateLink:function(e,t){if(this.linkNeedsDelayActivate(e)){A.preventDefault(t);var a=A.settings.linkDelay||100;setTimeout(function(){A.setLocation(e.href)},a)}},isQueueable:function(e){return"writeHTML"!==e.command}}),A.availableTools["default"]=v,A.inherit(y,A.BaseTool),A.extend(y.prototype,{name:"Nielsen",endPLPhase:function(e){switch(e){case"pagetop":this.initialize();break;case"pagebottom":this.enableTracking&&(this.queueCommand({command:"sendFirstBeacon",arguments:[]}),this.flushQueueWhenReady())}},defineListeners:function(){this.onTabFocus=A.bind(function(){this.notify("Tab visible, sending view beacon when ready",1),this.tabEverVisible=!0,this.flushQueueWhenReady()},this),this.onPageLeave=A.bind(function(){this.notify("isHuman? : "+this.isHuman(),1),this.isHuman()&&this.sendDurationBeacon()},this),this.onHumanDetectionChange=A.bind(function(e){this==e.target.target&&(this.human=e.target.isHuman)},this)},initialize:function(){this.initializeTracking(),this.initializeDataProviders(),this.initializeNonHumanDetection(),this.tabEverVisible=A.visibility.isVisible(),this.tabEverVisible?this.notify("Tab visible, sending view beacon when ready",1):A.bindEventOnce("tabfocus",this.onTabFocus),this.initialized=!0},initializeTracking:function(){this.initialized||(this.notify("Initializing tracking",1),this.addRemovePageLeaveEvent(this.enableTracking),this.addRemoveHumanDetectionChangeEvent(this.enableTracking),this.initialized=!0)},initializeDataProviders:function(){var e,t=this.getAnalyticsTool();this.dataProvider.register(new y.DataProvider.VisitorID(A.getVisitorId())),t?(e=new y.DataProvider.Generic("rsid",function(){return t.settings.account}),this.dataProvider.register(e)):this.notify("Missing integration with Analytics: rsid will not be sent.")},initializeNonHumanDetection:function(){A.nonhumandetection?(A.nonhumandetection.init(),this.setEnableNonHumanDetection(0!=this.settings.enableNonHumanDetection),this.settings.nonHumanDetectionDelay>0&&this.setNonHumanDetectionDelay(1e3*parseInt(this.settings.nonHumanDetectionDelay))):this.notify("NHDM is not available.")},getAnalyticsTool:function(){if(this.settings.integratesWith)return A.tools[this.settings.integratesWith]},flushQueueWhenReady:function(){this.enableTracking&&this.tabEverVisible&&A.poll(A.bind(function(){if(this.isReadyToTrack())return this.flushQueue(),!0},this),100,20)},isReadyToTrack:function(){return this.tabEverVisible&&this.dataProvider.isReady()},$setVars:function(e,t,a){for(var i in a){var n=a[i];"function"==typeof n&&(n=n()),this.settings[i]=n}this.notify("Set variables done",2),this.prepareContextData()},$setEnableTracking:function(e,t,a){this.notify("Will"+(a?"":" not")+" track time on page",1),this.enableTracking!=a&&(this.addRemovePageLeaveEvent(a),this.addRemoveHumanDetectionChangeEvent(a),this.enableTracking=a)},$sendFirstBeacon:function(){this.sendViewBeacon()},setEnableNonHumanDetection:function(e){e?A.nonhumandetection.register(this):A.nonhumandetection.unregister(this)},setNonHumanDetectionDelay:function(e){A.nonhumandetection.register(this,e)},addRemovePageLeaveEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" page leave event",1),A[0==e?"unbindEvent":"bindEvent"]("leave",this.onPageLeave)},addRemoveHumanDetectionChangeEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" human detection change event",1),A[0==e?"unbindEvent":"bindEvent"]("humandetection.change",this.onHumanDetectionChange)},sendViewBeacon:function(){this.notify("Tracked page view.",1),this.sendBeaconWith()},sendDurationBeacon:function(){if(A.timetracking&&"function"==typeof A.timetracking.timeOnPage&&null!=A.timetracking.timeOnPage()){this.notify("Tracked close",1),this.sendBeaconWith({timeOnPage:Math.round(A.timetracking.timeOnPage()/1e3),duration:"D",timer:"timer"});var e;for(e=0;e<this.magicConst;e++)"0"}else this.notify("Could not track close due missing time on page",5)},sendBeaconWith:function(e){this.enableTracking&&this[this.beaconMethod].call(this,this.prepareUrl(e))},plainBeacon:function(e){var t=new Image;t.src=e,t.width=1,t.height=1,t.alt=""},navigatorSendBeacon:function(e){navigator.sendBeacon(e)},prepareUrl:function(e){var t=this.settings;return A.extend(t,this.dataProvider.provide()),A.extend(t,e),this.preparePrefix(this.settings.collectionServer)+this.adapt.convertToURI(this.adapt.toNielsen(this.substituteVariables(t)))},preparePrefix:function(e){return"//"+encodeURIComponent(e)+".imrworldwide.com/cgi-bin/gn?"},substituteVariables:function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=A.replace(e[a]));return t},prepareContextData:function(){if(this.getAnalyticsTool()){var e=this.settings;e.sdkVersion=_satellite.publishDate,this.getAnalyticsTool().$setVars(null,null,{contextData:this.adapt.toAnalytics(this.substituteVariables(e))})}else this.notify("Adobe Analytics missing.")},isHuman:function(){return this.human},onTabFocus:function(){},onPageLeave:function(){},onHumanDetectionChange:function(){},notify:function(e,t){A.notify(this.logPrefix+e,t)},beaconMethod:"plainBeacon",adapt:null,enableTracking:!1,logPrefix:"Nielsen: ",tabEverVisible:!1,human:!0,magicConst:2e6}),y.DataProvider={},y.DataProvider.Generic=function(e,t){this.key=e,this.valueFn=t},A.extend(y.DataProvider.Generic.prototype,{isReady:function(){return!0},getValue:function(){return this.valueFn()},provide:function(){this.isReady()||y.prototype.notify("Not yet ready to provide value for: "+this.key,5);var e={};return e[this.key]=this.getValue(),e}}),y.DataProvider.VisitorID=function(e,t,a){this.key=t||"uuid",this.visitorInstance=e,this.visitorInstance&&(this.visitorId=e.getMarketingCloudVisitorID([this,this._visitorIdCallback])),this.fallbackProvider=a||new y.UUID},A.inherit(y.DataProvider.VisitorID,y.DataProvider.Generic),A.extend(y.DataProvider.VisitorID.prototype,{isReady:function(){return null===this.visitorInstance||!!this.visitorId},getValue:function(){return this.visitorId||this.fallbackProvider.get()},_visitorIdCallback:function(e){this.visitorId=e}}),y.DataProvider.Aggregate=function(){this.providers=[];for(var e=0;e<arguments.length;e++)this.register(arguments[e])},A.extend(y.DataProvider.Aggregate.prototype,{register:function(e){this.providers.push(e)},isReady:function(){return A.every(this.providers,function(e){return e.isReady()})},provide:function(){var e={};return A.each(this.providers,function(t){A.extend(e,t.provide())}),e}}),y.UUID=function(){},A.extend(y.UUID.prototype,{generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},get:function(){var e=A.readCookie(this.key("uuid"));return e||(e=this.generate(),A.setCookie(this.key("uuid"),e),e)},key:function(e){return"_dtm_nielsen_"+e}}),y.DataAdapters=function(){},A.extend(y.DataAdapters.prototype,{toNielsen:function(e){var t=(new Date).getTime(),a={c6:"vc,",c13:"asid,",c15:"apn,",c27:"cln,",c32:"segA,",c33:"segB,",c34:"segC,",c35:"adrsid,",c29:"plid,",c30:"bldv,",c40:"adbid,"},n={ci:e.clientId,c6:e.vcid,c13:e.appId,c15:e.appName,prv:1,forward:0,ad:0,cr:e.duration||"V",rt:"text",st:"dcr",prd:"dcr",r:t,at:e.timer||"view",c16:e.sdkVersion,c27:e.timeOnPage||0,c40:e.uuid,c35:e.rsid,ti:t,sup:0,c32:e.segmentA,c33:e.segmentB,c34:e.segmentC,asn:e.assetName,c29:e.playerID,c30:e.buildVersion};for(key in n)if(n[key]!==i&&null!=n[key]&&n[key]!==i&&null!=n&&""!=n){var r=encodeURIComponent(n[key]);a.hasOwnProperty(key)&&r&&(r=a[key]+r),n[key]=r}return this.filterObject(n)},toAnalytics:function(e){return this.filterObject({"a.nielsen.clientid":e.clientId,"a.nielsen.vcid":e.vcid,"a.nielsen.appid":e.appId,"a.nielsen.appname":e.appName,"a.nielsen.accmethod":"0","a.nielsen.ctype":"text","a.nielsen.sega":e.segmentA,"a.nielsen.segb":e.segmentB,"a.nielsen.segc":e.segmentC,"a.nielsen.asset":e.assetName})},convertToURI:function(e){if(!1===A.isObject(e))return"";var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a+"="+e[a]);return t.join("&")},filterObject:function(e){for(var t in e)!e.hasOwnProperty(t)||null!=e[t]&&e[t]!==i||delete e[t];return e}}),A.availableTools.nielsen=y,A.inherit(b,A.BaseTool),A.extend(b.prototype,{name:"tnt",endPLPhase:function(e){"aftertoolinit"===e&&this.initialize()},initialize:function(){A.notify("Test & Target: Initializing",1),this.initializeTargetPageParams(),this.load()},initializeTargetPageParams:function(){t.targetPageParams&&this.updateTargetPageParams(this.parseTargetPageParamsResult(t.targetPageParams())),this.updateTargetPageParams(this.settings.pageParams),this.setTargetPageParamsFunction()},load:function(){var e=this.getMboxURL(this.settings.mboxURL);!1!==this.settings.initTool?this.settings.loadSync?(A.loadScriptSync(e),this.onScriptLoaded()):(A.loadScript(e,A.bind(this.onScriptLoaded,this)),this.initializing=!0):this.initialized=!0},getMboxURL:function(e){var a=e;return A.isObject(e)&&(a="https:"===t.location.protocol?e.https:e.http),a.match(/^https?:/)?a:A.basePath()+a},onScriptLoaded:function(){A.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},$addMbox:function(e,t,a){var i=a.mboxGoesAround,n=i+"{visibility: hidden;}",r=this.appendStyle(n);i in this.styleElements||(this.styleElements[i]=r),this.initialized?this.$addMBoxStep2(null,null,a):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[a]},e,t)},$addMBoxStep2:function(e,i,n){var r=this.generateID(),s=this;A.addEventHandler(t,"load",A.bind(function(){A.cssQuery(n.mboxGoesAround,function(e){var i=e[0];if(i){var o=a.createElement("div");o.id=r,i.parentNode.replaceChild(o,i),o.appendChild(i),t.mboxDefine(r,n.mboxName);var l=[n.mboxName];n.arguments&&(l=l.concat(n.arguments)),t.mboxUpdate.apply(null,l),s.reappearWhenCallComesBack(i,r,n.timeout,n)}})},this)),this.lastMboxID=r},$addTargetPageParams:function(e,t,a){this.updateTargetPageParams(a)},generateID:function(){return"_sdsat_mbox_"+String(Math.random()).substring(2)+"_"},appendStyle:function(e){var t=a.getElementsByTagName("head")[0],i=a.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(a.createTextNode(e)),t.appendChild(i),i},reappearWhenCallComesBack:function(e,t,a,i){function n(){var e=r.styleElements[i.mboxGoesAround];e&&(e.parentNode.removeChild(e),delete r.styleElements[i.mboxGoesAround])}var r=this;A.cssQuery('script[src*="omtrdc.net"]',function(e){var t=e[0];if(t){A.scriptOnLoad(t.src,t,function(){A.notify("Test & Target: request complete",1),n(),clearTimeout(i)});var i=setTimeout(function(){A.notify("Test & Target: bailing after "+a+"ms",1),n()},a)}else A.notify("Test & Target: failed to find T&T ajax call, bailing",1),n()})},updateTargetPageParams:function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[A.replace(a)]=A.replace(e[a]));A.extend(this.targetPageParamsStore,t)},getTargetPageParams:function(){return this.targetPageParamsStore},setTargetPageParamsFunction:function(){t.targetPageParams=A.bind(this.getTargetPageParams,this)},parseTargetPageParamsResult:function(e){var t=e;return A.isArray(e)&&(e=e.join("&")),A.isString(e)&&(t=A.parseQueryParams(e)),t}}),A.availableTools.tnt=b,A.inherit(S,A.BaseTool),A.extend(S.prototype,{name:"SC",endPLPhase:function(e){e===this.settings.loadOn&&this.initialize(e)},initialize:function(e){if(!this._cancelToolInit)if(this.settings.initVars=this.substituteVariables(this.settings.initVars,{type:e}),!1!==this.settings.initTool){var a=this.settings.sCodeURL||A.basePath()+"s_code.js";"object"==typeof a&&(a="https:"===t.location.protocol?a.https:a.http),a.match(/^https?:/)||(a=A.basePath()+a),this.settings.initVars&&this.$setVars(null,null,this.settings.initVars),A.loadScript(a,A.bind(this.onSCodeLoaded,this)),this.initializing=!0}else this.initializing=!0,this.pollForSC()},getS:function(e,a){var i=a&&a.hostname||t.location.hostname,n=this.concatWithToolVarBindings(a&&a.setVars||this.varBindings),r=a&&a.addEvent||this.events,s=this.getAccount(i),o=t.s_gi;if(!o)return null;if(this.isValidSCInstance(e)||(e=null),!s&&!e)return A.notify("Adobe Analytics: tracker not initialized because account was not found",1),null;e=e||o(s);var l="D"+A.appVersion;return"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=l:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+l&&(e.version+="-"+l),e.sa&&!0!==this.settings.skipSetAccount&&!1!==this.settings.initTool&&e.sa(this.settings.account),this.applyVarBindingsOnTracker(e,n),r.length>0&&(e.events=r.join(",")),A.getVisitorId()&&(e.visitor=A.getVisitorId()),e},onSCodeLoaded:function(e){this.initialized=!0,this.initializing=!1;var t=["Adobe Analytics: loaded",e?" (manual)":"","."];A.notify(t.join(""),1),A.fireEvent(this.id+".load",this.getS()),e||(this.flushQueueExceptTrackLink(),this.sendBeacon()),this.flushQueue()},getAccount:function(e){return t.s_account?t.s_account:e&&this.settings.accountByHost&&this.settings.accountByHost[e]||this.settings.account},getTrackingServer:function(){var e=this,a=e.getS();if(a){if(a.ssl&&a.trackingServerSecure)return a.trackingServerSecure;if(a.trackingServer)return a.trackingServer}var i,n=e.getAccount(t.location.hostname);if(!n)return null;var r,s,o="",l=a&&a.dc;return(r=(i=n).indexOf(","))>=0&&(i=i.gb(0,r)),i=i.replace(/[^A-Za-z0-9]/g,""),o||(o="2o7.net"),l=l?(""+l).toLowerCase():"d1","2o7.net"==o&&("d1"==l?l="112":"d2"==l&&(l="122"),s=""),r=i+"."+l+"."+s+o},sendBeacon:function(){var e=this.getS(t[this.settings.renameS||"s"]);e?this.settings.customInit&&!1===this.settings.customInit(e)?A.notify("Adobe Analytics: custom init suppressed beacon",1):(this.settings.executeCustomPageCodeFirst&&this.applyVarBindingsOnTracker(e,this.varBindings),this.executeCustomSetupFuns(e),e.t(),this.clearVarBindings(),this.clearCustomSetup(),A.notify("Adobe Analytics: tracked page view",1)):A.notify("Adobe Analytics: page code not loaded",1)},pollForSC:function(){A.poll(A.bind(function(){if("function"==typeof t.s_gi)return this.onSCodeLoaded(!0),!0},this))},flushQueueExceptTrackLink:function(){if(this.pending){for(var e=[],t=0;t<this.pending.length;t++){var a=this.pending[t];"trackLink"===a[0].command?e.push(a):this.triggerCommand.apply(this,a)}this.pending=e}},isQueueAvailable:function(){return!this.initialized},substituteVariables:function(e,t){var a={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];a[i]=A.replace(n,location,t)}return a},$setVars:function(e,t,a){for(var i in a)if(a.hasOwnProperty(i)){var n=a[i];"function"==typeof n&&(n=n()),this.varBindings[i]=n}A.notify("Adobe Analytics: set variables.",2)},$customSetup:function(e,t,a){this.customSetupFuns.push(function(i){a.call(e,t,i)})},isValidSCInstance:function(e){return!!e&&"function"==typeof e.t&&"function"==typeof e.tl},concatWithToolVarBindings:function(e){var t=this.settings.initVars||{};return A.map(["trackingServer","trackingServerSecure"],function(a){t[a]&&!e[a]&&(e[a]=t[a])}),e},applyVarBindingsOnTracker:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},clearVarBindings:function(){this.varBindings={}},clearCustomSetup:function(){this.customSetupFuns=[]},executeCustomSetupFuns:function(e){A.each(this.customSetupFuns,function(a){a.call(t,e)})},$trackLink:function(e,t,a){var i=(a=a||{}).type,n=a.linkName;!n&&e&&e.nodeName&&"a"===e.nodeName.toLowerCase()&&(n=e.innerHTML),n||(n="link clicked");var r=a&&a.setVars,s=a&&a.addEvent||[],o=this.getS(null,{setVars:r,addEvent:s});if(o){var l=o.linkTrackVars,c=o.linkTrackEvents,u=this.definedVarNames(r);a&&a.customSetup&&a.customSetup.call(e,t,o),s.length>0&&u.push("events"),o.products&&u.push("products"),u=this.mergeTrackLinkVars(o.linkTrackVars,u),s=this.mergeTrackLinkVars(o.linkTrackEvents,s),o.linkTrackVars=this.getCustomLinkVarsList(u);var d=A.map(s,function(e){return e.split(":")[0]});o.linkTrackEvents=this.getCustomLinkVarsList(d),o.tl(!0,i||"o",n),A.notify(["Adobe Analytics: tracked link ","using: linkTrackVars=",A.stringify(o.linkTrackVars),"; linkTrackEvents=",A.stringify(o.linkTrackEvents)].join(""),1),o.linkTrackVars=l,o.linkTrackEvents=c}else A.notify("Adobe Analytics: page code not loaded",1)},mergeTrackLinkVars:function(e,t){return e&&(t=e.split(",").concat(t)),t},getCustomLinkVarsList:function(e){var t=A.indexOf(e,"None");return t>-1&&e.length>1&&e.splice(t,1),e.join(",")},definedVarNames:function(e){e=e||this.varBindings;var t=[];for(var a in e)e.hasOwnProperty(a)&&/^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$/.test(a)&&t.push(a);return t},$trackPageView:function(e,t,a){var i=a&&a.setVars,n=a&&a.addEvent||[],r=this.getS(null,{setVars:i,addEvent:n});r?(r.linkTrackVars="",r.linkTrackEvents="",this.executeCustomSetupFuns(r),a&&a.customSetup&&a.customSetup.call(e,t,r),r.t(),this.clearVarBindings(),this.clearCustomSetup(),A.notify("Adobe Analytics: tracked page view",1)):A.notify("Adobe Analytics: page code not loaded",1)},$postTransaction:function(e,a,i){var n=A.data.transaction=t[i],r=this.varBindings,s=this.settings.fieldVarMapping;if(A.each(n.items,function(e){this.products.push(e)},this),r.products=A.map(this.products,function(e){var t=[];if(s&&s.item)for(var a in s.item)if(s.item.hasOwnProperty(a)){var i=s.item[a];t.push(i+"="+e[a]),"event"===i.substring(0,5)&&this.events.push(i)}var n=["",e.product,e.quantity,e.unitPrice*e.quantity];return t.length>0&&n.push(t.join("|")),n.join(";")},this).join(","),s&&s.transaction){var o=[];for(var l in s.transaction)if(s.transaction.hasOwnProperty(l)){i=s.transaction[l];o.push(i+"="+n[l]),"event"===i.substring(0,5)&&this.events.push(i)}r.products.length>0&&(r.products+=","),r.products+=";;;;"+o.join("|")}},$addEvent:function(){for(var e=2,t=arguments.length;e<t;e++)this.events.push(arguments[e])},$addProduct:function(){for(var e=2,t=arguments.length;e<t;e++)this.products.push(arguments[e])}}),A.availableTools.sc=S,A.inherit(_,A.BaseTool),A.extend(_.prototype,{name:"GA",initialize:function(){var e=this.settings,a=t._gaq,i=e.initCommands||[],n=e.customInit;if(a||(_gaq=[]),this.isSuppressed())A.notify("GA: page code not loaded(suppressed).",1);else{if(!a&&!_.scriptLoaded){var r=A.isHttps(),s=(r?"https://ssl":"http://www")+".google-analytics.com/ga.js";e.url&&(s=r?e.url.https:e.url.http),A.loadScript(s),_.scriptLoaded=!0,A.notify("GA: page code loaded.",1)}e.domain;var o=e.trackerName,l=L.allowLinker(),c=A.replace(e.account,location);A.settings.domainList;_gaq.push([this.cmd("setAccount"),c]),l&&_gaq.push([this.cmd("setAllowLinker"),l]),_gaq.push([this.cmd("setDomainName"),L.cookieDomain()]),A.each(i,function(e){var t=[this.cmd(e[0])].concat(A.preprocessArguments(e.slice(1),location,null,this.forceLowerCase));_gaq.push(t)},this),n&&(this.suppressInitialPageView=!1===n(_gaq,o)),e.pageName&&this.$overrideInitialPageView(null,null,e.pageName)}this.initialized=!0,A.fireEvent(this.id+".configure",_gaq,o)},isSuppressed:function(){return this._cancelToolInit||!1===this.settings.initTool},tracker:function(){return this.settings.trackerName},cmd:function(e){var t=this.tracker();return t?t+"._"+e:"_"+e},$overrideInitialPageView:function(e,t,a){this.urlOverride=a},trackInitialPageView:function(){if(!this.isSuppressed()&&!this.suppressInitialPageView)if(this.urlOverride){var e=A.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,e)}else this.$missing$("trackPageview")},endPLPhase:function(e){
e===this.settings.loadOn&&(A.notify("GA: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},call:function(e,t,a,i){if(!this._cancelToolInit){this.settings;var n=this.tracker(),r=this.cmd(e);i=i?[r].concat(i):[r];_gaq.push(i),n?A.notify("GA: sent command "+e+" to tracker "+n+(i.length>1?" with parameters ["+i.slice(1).join(", ")+"]":"")+".",1):A.notify("GA: sent command "+e+(i.length>1?" with parameters ["+i.slice(1).join(", ")+"]":"")+".",1)}},$missing$:function(e,t,a,i){this.call(e,t,a,i)},$postTransaction:function(e,a,i){var n=A.data.customVars.transaction=t[i];this.call("addTrans",e,a,[n.orderID,n.affiliation,n.total,n.tax,n.shipping,n.city,n.state,n.country]),A.each(n.items,function(t){this.call("addItem",e,a,[t.orderID,t.sku,t.product,t.category,t.unitPrice,t.quantity])},this),this.call("trackTrans",e,a)},delayLink:function(e,t){var a=this;if(L.allowLinker()&&e.hostname.match(this.settings.linkerDomains)&&!A.isSubdomainOf(e.hostname,location.hostname)){A.preventDefault(t);var i=A.settings.linkDelay||100;setTimeout(function(){a.call("link",e,t,[e.href])},i)}},popupLink:function(e,a){if(t._gat){A.preventDefault(a);var i=this.settings.account,n=t._gat._createTracker(i)._getLinkerUrl(e.href);t.open(n)}},$link:function(e,t){"_blank"===e.getAttribute("target")?this.popupLink(e,t):this.delayLink(e,t)},$trackEvent:function(e,t){var a=Array.prototype.slice.call(arguments,2);if(a.length>=4&&null!=a[3]){var i=parseInt(a[3],10);A.isNaN(i)&&(i=1),a[3]=i}this.call("trackEvent",e,t,a)}}),A.availableTools.ga=_,A.inherit(C,A.BaseTool),A.extend(C.prototype,{name:"GAUniversal",endPLPhase:function(e){e===this.settings.loadOn&&(A.notify("GAU: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},getTrackerName:function(){return this.settings.trackerSettings.name||""},isPageCodeLoadSuppressed:function(){return!1===this.settings.initTool||!0===this._cancelToolInit},initialize:function(){if(this.isPageCodeLoadSuppressed())return this.initialized=!0,void A.notify("GAU: Page code not loaded (suppressed).",1);var e="ga";t[e]=t[e]||this.createGAObject(),t.GoogleAnalyticsObject=e,A.notify("GAU: Page code loaded.",1),A.loadScriptOnce(this.getToolUrl());var a=this.settings;(L.allowLinker()&&!1!==a.allowLinker?this.createAccountForLinker():this.createAccount(),this.executeInitCommands(),a.customInit)&&(!1===(0,a.customInit)(t[e],this.getTrackerName())&&(this.suppressInitialPageView=!0));this.initialized=!0},createGAObject:function(){var e=function(){e.q.push(arguments)};return e.q=[],e.l=1*new Date,e},createAccount:function(){this.create()},createAccountForLinker:function(){var e={};L.allowLinker()&&(e.allowLinker=!0),this.create(e),this.call("require","linker"),this.call("linker:autoLink",this.autoLinkDomains(),!1,!0)},create:function(e){var t=this.settings.trackerSettings;(t=A.preprocessArguments([t],location,null,this.forceLowerCase)[0]).trackingId=A.replace(this.settings.trackerSettings.trackingId,location),t.cookieDomain||(t.cookieDomain=L.cookieDomain()),A.extend(t,e||{}),this.call("create",t)},autoLinkDomains:function(){var e=location.hostname;return A.filter(A.settings.domainList,function(t){return t!==e})},executeInitCommands:function(){var e=this.settings;e.initCommands&&A.each(e.initCommands,function(e){var t=e.splice(2,e.length-2);e=e.concat(A.preprocessArguments(t,location,null,this.forceLowerCase)),this.call.apply(this,e)},this)},trackInitialPageView:function(){this.suppressInitialPageView||this.isPageCodeLoadSuppressed()||this.call("send","pageview")},call:function(){"function"==typeof ga?this.isCallSuppressed()||(arguments[0]=this.cmd(arguments[0]),this.log(A.toArray(arguments)),ga.apply(t,arguments)):A.notify("GA Universal function not found!",4)},isCallSuppressed:function(){return!0===this._cancelToolInit},$missing$:function(e,t,a,i){i=i||[],i=[e].concat(i),this.call.apply(this,i)},getToolUrl:function(){var e=this.settings,t=A.isHttps();return e.url?t?e.url.https:e.url.http:(t?"https://ssl":"http://www")+".google-analytics.com/analytics.js"},cmd:function(e){var t=["send","set","get"],a=this.getTrackerName();return a&&-1!==A.indexOf(t,e)?a+"."+e:e},log:function(e){var t="GA Universal: sent command "+e[0]+" to tracker "+(this.getTrackerName()||"default");if(e.length>1){A.stringify(e.slice(1));t+=" with parameters "+A.stringify(e.slice(1))}t+=".",A.notify(t,1)}}),A.availableTools.ga_universal=C;var L={allowLinker:function(){return A.hasMultipleDomains()},cookieDomain:function(){var e=A.settings.domainList,a=A.find(e,function(e){var a=t.location.hostname;return A.equalsIgnoreCase(a.slice(a.length-e.length),e)});return a?"."+a:"auto"}};A.ecommerce={addItem:function(){var e=[].slice.call(arguments);A.onEvent({type:"ecommerce.additem",target:e})},addTrans:function(){var e=[].slice.call(arguments);A.data.saleData.sale={orderId:e[0],revenue:e[2]},A.onEvent({type:"ecommerce.addtrans",target:e})},trackTrans:function(){A.onEvent({type:"ecommerce.tracktrans",target:[]})}},A.visibility={isHidden:function(){var e=this.getHiddenProperty();return!!e&&a[e]},isVisible:function(){return!this.isHidden()},getHiddenProperty:function(){var e=["webkit","moz","ms","o"];if("hidden"in a)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in a)return e[t]+"Hidden";return null},getVisibilityEvent:function(){var e=this.getHiddenProperty();return e?e.replace(/[H|h]idden/,"")+"visibilitychange":null}},_satellite.init({tools:{"00ddea32ed5d3eb1c27c048167807bc5":{engine:"sc",loadOn:"pagebottom",account:"spreadshirt-eu",euCookie:!1,sCodeURL:"b0bbd3cb9948de215cf70653f28bdcb253a01057/s-code-contents-781f27622c4cafdfb07864314b4aef6363e9801b.js",renameS:"s",initVars:{charSet:"UTF-8",currencyCode:"%CurrencyCode%",trackingServer:"%trackingServer%",trackingServerSecure:"%trackingServerSecure%",trackInlineStats:!0,trackDownloadLinks:!0,linkDownloadFileTypes:"avi,css,csv,doc,docx,eps,exe,jpg,js,m4v,mov,mp3,pdf,png,ppt,pptx,rar,svg,tab,txt,vsd,vxd,wav,wma,wmv,xls,xlsx,xml,zip",trackExternalLinks:!1,linkLeaveQueryString:!1,dynamicVariablePrefix:"D=",eVar70:"%TimeStampLong%",eVar63:"+1",eVar81:"%AffiliateId%",eVar65:"%PathName%",eVar66:"%QueryString%",prop13:"D=v65"},customInit:function(i){function n(){var e=t.navigator.userAgent;return!(!e||!(e.toLowerCase().indexOf("googlebot")>-1||e.toLowerCase().indexOf("adsbot")>-1))||"1"==_satellite.readCookie("adobeOptOut")&&(_satellite.notify("compliance Opt Out",1),!0)}i.visitorNamespace="spreadshirtag",i.extendAnyAffiliateCookie=function(e){var t=i+7776e6,i=(new Date).getTime(),n=new Date,r=_satellite.readCookie("any_affiliate");void 0!==r&&r.split("|")[r.split("|").length-1]==e||(n.setTime(t),r=void 0!==r?r+"|"+e:e,a.cookie="any_affiliate="+r+";expires="+n.toGMTString()+";path=/;domain="+_satellite.getVar("cookiedomain"))};var r=i.t,s=i.tl;i.t=function(){n()&&(i.abort=!0),r.apply(this,arguments);try{i.clearVars()}catch(e){}},i.tl=function(){n()&&(i.abort=!0),s.apply(this,arguments);try{i.clearVars()}catch(e){}}}},b6d2680197b7ae32ed7af44269700a4eca511bb3:{engine:"visitor_id",loadOn:"pagetop",name:"VisitorID",mcOrgId:"68044180541804760A4C98A5@AdobeOrg",autoRequest:!0,initVars:{trackingServer:"%trackingServer%",trackingServerSecure:"%trackingServerSecure%",marketingCloudServer:"%trackingServer%",marketingCloudServerSecure:"%trackingServerSecure%"}}},pageLoadRules:[{name:"1st Page View",conditions:[function(){var e=!1,t=_satellite.getVar("cookiedomain"),i=new Date,n=i.getTime(),r=n+2592e6,s=n+7776e6,o="",l=_satellite.getVar("AffiliateId");if(!_satellite.readCookie("direct_affiliate")){e=!0;a.cookie="direct_affiliate="+l+";path=/;domain="+t}if(_satellite.readCookie("affiliate")||(i.setTime(r),a.cookie="affiliate="+l+";expires="+i.toGMTString()+";path=/;domain="+t),e){var c=_satellite.QueryParams.caseInsensitive.anyaffiliate;o=_satellite.readCookie("any_affiliate")?void 0!==c&&c.length>0?_satellite.readCookie("any_affiliate")+"|"+c+"|"+l:_satellite.readCookie("any_affiliate")+"|"+l:void 0!==c&&c.length>0?c+"|"+l:l,i.setTime(s),a.cookie="any_affiliate="+o+";expires="+i.toGMTString()+";path=/;domain="+t}return _satellite.getVar("third party cookie"),e}],event:"pagetop"},{name:"1st Page View 2019",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar90:"%AffiliateId%"}]},{engine:"sc",command:"customSetup",arguments:[function(e,t){var i=_satellite.getVar("cookiedomain"),n=new Date,r=n.getTime()+1296e6;n.setTime(r);var s=_satellite.getVar("AffiliateId"),o=_satellite.readCookie("AffiliateId");a.cookie="direct_affiliate_2019="+s+";path=/;domain="+i,o?a.cookie="affiliate_2019="+o+";expires="+n.toGMTString()+";path=/;domain="+i:(a.cookie="affiliate_2019="+s+";expires="+n.toGMTString()+";path=/;domain="+i,t.eVar91=s)}]}],conditions:[function(){var e=a.referrer.toLowerCase(),i=performance&&"object"==typeof performance.navigation&&"number"==typeof performance.navigation.type?performance.navigation.type:0;return!(e.indexOf("paypal")>-1)&&((t.self===t.top||"CYO"!=_satellite.getVar("PageComponent"))&&"Zendesk"!=_satellite.getVar("PageComponent")&&(!!(_satellite.QueryParams.caseInsensitive.affiliateid||_satellite.QueryParams.caseInsensitive.scid||location.search.indexOf("affiliateid")>-1||"Checkout"==_satellite.getVar("PageComponent")&&e.toLowerCase().indexOf("affiliateid")>-1)||(e.indexOf("spreadshirt")>-1||e.indexOf("spreadshop")>-1||e.indexOf("vm2")>-1||e.indexOf("sellmerch.org")>-1?!_satellite.readCookie("direct_affiliate_2019"):!_satellite.readCookie("direct_affiliate_2019")||""!=e&&0==i)))}],event:"pagebottom"},{name:"Checkout Main Load",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar44:"%CountryTag%",eVar63:"+1",eVar64:"%PageName%",prop10:"%PreviousPage%",pageName:"Checkout | Main",campaign:"%direct_affiliate%"}]},{engine:"sc",command:"addEvent",arguments:["event42","scCheckout"]},{engine:"sc",command:"customSetup",arguments:[function(){"1"==_satellite.readCookie("dcmnVisit")&&(_satellite.setVar("dcmnCase","checkout"),_satellite.track("dcMedia"))}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5b06775864746d45be0003a6.js"}]}]}],conditions:[function(){if(!(t.top!==t.self))return!1;var e=a.createElement("a");e.href=a.referrer;var i=-1!==e.hostname.indexOf("checkout."),n=-1!==e.search.indexOf("basketId=");return i&&n}],event:"pagebottom"},{name:"Checkout Success Load",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar44:"%CountryTag%-%PageName%",eVar63:"+1",eVar64:"%PageName%",eVar65:"%PathName%",eVar66:"%QueryString%",eVar70:"%TimeStampLong%",prop10:"%PreviousPage%",prop13:"D=v65",prop14:"%UserAgent%",pageName:"Checkout | Success Load"}]}],conditions:[function(){if(!(t.top!==t.self))return!1;var e=a.createElement("a");e.href=a.referrer;var i=-1!==e.hostname.indexOf("checkout."),n=-1!==e.search.indexOf("result=SUCCESS")&&-1!==e.search.indexOf("orderId=");return i&&n}],event:"pagebottom"},{name:"Designer Start",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar34:"%ClickValue%",eVar35:"start",eVar44:"%CountryTag%-%PageName%",eVar52:"%ShopId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop10:"%PreviousPage%",prop12:"%Page_referrer%",prop13:"%PathName%",prop49:"D=v62",prop63:"Designer Start",pageName:"%PageName%"}]},{engine:"sc",command:"customSetup",arguments:[function(a,i){var n=_satellite.getVar("Product"),r=_satellite.getVar("GlobalPrefix"),s=t.trackingData;i.products=_satellite.getVar("ShopId")+";"+r+n.type+"-"+r+n.appearance,i.events="event304,prodView","object"==typeof t.abTest&&(i.list1=t.abTest.join(","));try{i.eVar37=s.applicationName+"|"+s.version}catch(e){i.eVar87="Designer Start | "+e}"1"==_satellite.readCookie("dcmnVisit")&&(_satellite.setVar("dcmnCase","designer"),_satellite.track("dcMedia"))}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5caaede164746d76a600bcb7.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageName"),/smartomat|sketchomat/i)}],event:"pagebottom"},{name:"DetailPageLoad",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar15:"%MPArticlePrice%",eVar46:"%MP RMKT Product ID%",eVar74:"%MP PDP Tags%",eVar79:"%MpDesignId%"}]},{engine:"sc",command:"customSetup",arguments:[function(i,n){var r=t.spreadShopLoaded&&spreadShopLoaded.pageData&&spreadShopLoaded.pageData.sellableId;n.prop59=r,n.eVar76=r,n.events="prodView";var s=_satellite.getVar("Product"),o=_satellite.getVar("GlobalPrefix");n.products=_satellite.getVar("ShopId")+";"+o+s.type+"-"+o+s.appearance,n.events+=",event2="+_satellite.getVar("MPArticlePrice");try{var l=a.getElementsByClassName("productRating noMobile")[0].getElementsByClassName("stars")[0].getAttribute("data-rating")}catch(e){_satellite.notify("ekomi rating not found! "+e,3)}l&&(n.events+=",event229="+l);try{var c=a.getElementById("detailSizeSelector").getElementsByClassName("disabled size").length;if(c>0){var u="1";for(u=(u=u+";"+_satellite.getVar("ProductTypeId"))+";"+_satellite.getVar("AppearanceId")+":",k=0;k<c;k++)u+=a.getElementsByClassName("disabled size")[k].getAttribute("data-size-id")+"|";u=u.substring(0,u.length-1),n.eVar31=u}}catch(e){_satellite.notify("Stockout analysis error "+e,4)}_satellite.track("sessionCamHeatmapDetailPages"),_satellite.setVar("previousProduct",encodeURIComponent(JSON.stringify(s)))}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageName"),"Marketplace | Product Detail")}],event:"pagebottom"},{name:"Forum Page Load",trigger:[{engine:"sc",command:"customSetup",arguments:[function(t,i){".com"==_satellite.getVar("tld")?i.extendAnyAffiliateCookie(9947):i.extendAnyAffiliateCookie(1252983);try{a.querySelector("#current-user")&&(i.events="event360")}catch(e){_satellite.notify("Forum Login tracking error: "+e,4)}}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageComponent"),"Forum")}],event:"pagebottom"},{name:"General Tracking",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar34:"%ClickValue%",eVar41:"%BusinessSegment%",eVar42:"%last_sem_touch%",eVar44:"%CountryTag%-%PageName%",eVar5:"%Page_referrer%",eVar52:"%ShopId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar7:"%any_affiliate value%",prop10:"%PreviousPage%",prop11:"%trackingServerSecure%",prop12:"D=v5",prop14:"%UserAgent%",prop18:"%s_fid%",prop32:"D=v41",prop49:"%Page_URL%",prop75:"D=v7",pageName:"%PageName%",campaign:"%direct_affiliate%"}]},{engine:"sc",command:"customSetup",arguments:[function(e,i){if(t.self!==t.top)_satellite.notify("aborting tracking call",4),i.abort=!0;else{var n=_satellite.getVar("PageComponent"),r=_satellite.getVar("PageName"),s=_satellite.getVar("Cart");if(i.eVar84=_satellite.readCookie("affiliate"),"object"==typeof t.abTest&&(i.list1=t.abTest.join(",")),i.eVar71=s.id,_satellite.setVar("CartPrio",JSON.parse(JSON.stringify(s))),s.id?(localStorage.setItem("cartStatus","old"),i.eVar20="existing Cart"):(localStorage.setItem("cartStatus","new"),i.eVar20="new Cart"),_satellite.readCookie("sprdCookieAccepted")||(i.events+=",event290"),a.querySelector("div.overlay.geoRedirect")&&(i.events+=",event289"),"Blog"==n)".com"==_satellite.getVar("tld")?i.extendAnyAffiliateCookie(9947):i.extendAnyAffiliateCookie(1252983);else if("Zendesk"==n)"Zendesk | Search"==r&&(i.eVar59=/.*query=(.*)/.exec(a.location.search)[1]),"us"==_satellite.getVar("CountryTag")||"ca-fr"==_satellite.getVar("CountryTag")?i.extendAnyAffiliateCookie(9959):i.extendAnyAffiliateCookie(1252995);else if("CYO | Assortment | list"==r){var o=t.page_data&&t.page_data.data&&t.page_data.data.filter||{};i.eVar18="product:CYO-"+(o.categorygroup?o.categorygroup:"ALL")+"|department:CYO-"+(o.department?o.department:"ALL")+"|color:CYO-"+(o.appearancegroup?o.appearancegroup:"ALL")+"|size:CYO-"+(o.sizegroup?o.sizegroup:"ALL")+"|p18:CYO-ALL|format:CYO-ALL|priceFilter:CYO-"+(o.price?o.price:"ALL")+"|styleFilter:CYO-ALL|attribute:CYO-"+(o.feature?o.feature:"ALL")}else if(r.indexOf("Assortment | detail")>-1||r.indexOf("Marketplace | Landingpage | tShirtOfTheWeek")>-1){var l=_satellite.getVar("Product"),c=_satellite.getVar("GlobalPrefix");i.products=_satellite.getVar("ShopId")+";"+c+l.type+"-"+c+l.appearance,i.events+=",prodView"}else"CYO | Landingpage | bachelorparty | topics"!=r&&"CYO | Landingpage | bacheloretteparty | topics"!=r||(_satellite.setVar("dcmnCase","entry"),a.cookie="dcmnVisit=1;path=/;domain="+_satellite.getVar("cookiedomain"),_satellite.track("dcMedia"));_satellite.setVar("previousURL",encodeURIComponent(location.href))}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5b9b733364746d6dc0000ee5.js"},{src:"satellite-5c7652b764746d42c3001679.js"}]}]}],conditions:[function(){var e=_satellite.getVar("PageName");return(-1==location.href.search("userarea")||t.self===t.top)&&(!(e.indexOf("smartomat")>-1||e.indexOf("sketchomat")>-1)&&!location.hostname.match("checkout"))}],event:"pagebottom"},{name:"ListPageLoad",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar48:"%Marketplace ViewType%"}]},{engine:"sc",command:"customSetup",arguments:[function(t,a){var i=spreadShopLoaded.pageData,n=function(e){return e.map(function(e){return e.id}).join(",")};a.eVar4="Marketplace | "+(i.searchMethod||"external Referred")+" | "+(i.searchQuery||"No SearchTerm");try{a.eVar18="product:"+(i.mpCategoryId?i.mpCategoryId:"ALL")+"|department:"+(i.departmentId?i.departmentId:"ALL")+"|color:"+("object"==typeof i.colors&&null!=i.colors?n(i.colors.a):"ALL")+"|size:"+(i.sizes?n(i.sizes.a):"ALL")+"|p18:"+("strict"==i.safeSearchName?"On":"Off")+"|format:"+("object"==typeof i.formats&&null!=i.formats?n(i.formats.a):"ALL")+"|priceFilter:"+("object"==typeof i.priceGroups&&null!=i.priceGroups?n(i.priceGroups.a):"ALL")+"|styleFilter:"+("object"==typeof i.styles&&null!=i.styles?n(i.styles.a):"ALL")+"|attribute:"+(i.ptAttributeId?i.ptAttributeId:"ALL")}catch(e){a.eVar87="Marketplace | Filter tracking Error"}a.events="event5,event107",_satellite.track("sessionCamHeatmapListPages")}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageName"),"Marketplace | Search")}],event:"pagebottom"},{name:"MDS | Landingpage Pixel",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5caee55d64746d387b000346.js"}]}]}],conditions:[function(){return _satellite.getVar("PageName").indexOf("MDS | Landingpage | spreadshop.com |")>-1}],event:"pagebottom"},{name:"MDS | Start Selling Page",trigger:[{engine:"sc",command:"customSetup",arguments:[function(e,t){var a=_satellite.readCookie("PPP");"us"==_satellite.getVar("CountryTag")||"ca-en"==_satellite.getVar("CountryTag")||"ca-fr"==_satellite.getVar("CountryTag")||"au"==_satellite.getVar("CountryTag")?a.indexOf("Blog")>-1&&t.extendAnyAffiliateCookie(9949):a.indexOf("Blog")>-1&&t.extendAnyAffiliateCookie(1252985)}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page_URL"),/C5780/i)}],event:"pagebottom"},{name:"MMP Initial Load",trigger:[{engine:"sc",command:"customSetup",arguments:[function(e,n){t.spreadShopLoaded&&"object"==typeof t.spreadShopLoaded?addShopLoadHandler(function(){custevent=a.createEvent("CustomEvent"),custevent.initCustomEvent("DTMtemp",!0,!1,i),a.body.dispatchEvent(custevent)}):n.eVar87="SpreadShopLoaded missing on "+_satellite.getVar("PageName")}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57e3d9fb64746d060800778f.js"}]}]}],conditions:[function(){var e=_satellite.getVar("PageComponent"),a=_satellite.getVar("PageName"),i=!1;t.spreadShopLoaded&&t.spreadShopLoaded.pageType;if("MDS"==e&&-1==a.indexOf("Partner")&&-1==a.indexOf("spreadshop.com")&&-1==a.indexOf("sellmerch.org")||"Marketplace"==e||"Spreadshirt"==e||"SpreadShop"==e||"CYO"==e&&(-1==a.indexOf("Designer")||a.indexOf("Unknown")>-1)&&t.self==t.top)i=!0;return i}],event:"pagebottom"},{name:"Partner Area | Load",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar17:"%PartnerId%"}]},{engine:"sc",command:"addEvent",arguments:["event87:%PartnerId%"]},{engine:"sc",command:"customSetup",arguments:[function(e,t){var a=_satellite.getVar("PageName");if(a.indexOf("Register")>-1?(t.events+=",event247","S"==_satellite.readCookie("ftype")?t.events+=",event115":"M"==_satellite.readCookie("ftype")&&(t.events+=",event112")):"MDS | Partner Area | Shop Themes"==a?t.events+=",event114":"Partner Area - My Designs"==a&&"S"==_satellite.readCookie("ftype")&&"true"!=_satellite.readCookie("fPA")&&(_satellite.setCookie("fPA","true"),t.events+=",event116"),"MDS | Partner Area | Shop Dashboard"==_satellite.getVar("PageName")){t.events+=",event249";var i=_satellite.getVar("NumberOfShops");_satellite.setVar("currentNumberOfShops",i),t.eVar55=i.shops,t.eVar56=i.activeShops}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5caeef2464746d30a00007d7.js"}]}]}],conditions:[function(){return _satellite.getVar("PageName").indexOf("MDS | Partner Area")>-1&&(a.addEventListener("track",function(e){var t=e.detail&&e.detail.payload,a=e.detail&&e.detail.id;switch(_satellite.notify('CUSTOM EVENT FIRED: "track" with id "'+a+'"',3),a){case"UPLOAD_FINISHED":case"APC_START":case"APC_STEP_FINISHED":_satellite.setVar("partnerAreaPayload",t),_satellite.setVar("partnerAreaEvent",a),_satellite.track("partnerAreaFeature");break;case"REGISTER":_satellite.setVar("Partner Register",t),_satellite.track("Partner - register")}}),!0)}],event:"pagebottom"},{name:"SessionCam",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57ecedeb64746d3ccc002fba.js"}]}]}],conditions:[function(){if(a.referrer.indexOf("4dm1n.php")>=0)return!1;var e=a.location.host,i=a.location.pathname,n=_satellite.getVar("PageComponent");switch(e){case"www.spreadshirt.de":case"www.spreadshirt.fr":case"www.spreadshirt.co.uk":arg=!0;break;case"partner.spreadshirt.nl":case"partner.spreadshirt.it":arg=!1;break;case"partner.vm213.vde":arg=!0;break;case"partner.spreadshirt.nl":case"partner.spreadshirt.it":case"partner.spreadshirt.de":arg=!1;break;case"www.vm242.vde":arg=!0;break;default:arg=!1}return t.location.href.indexOf("/userarea/")>=0&&(arg=!1),"1"==_satellite.readCookie("sessioncamOptOut")&&(arg=!1),arg&&"CYO"==n&&i.match("external")&&(arg="www"==_satellite.getVar("BusinessSegment")),1==arg&&_satellite.notify("sessioncam condition met",4),arg}],event:"pagebottom"},{name:"Shop Page Load",trigger:[{engine:"sc",command:"setVars",arguments:[{prop58:"%ShopType%"}]},{engine:"sc",command:"customSetup",arguments:[function(t,a){var i="";try{spreadShopLoaded.pageData&&1==spreadShopLoaded.pageData.designBased?(a.events+=",event269",i="designbased|"):(a.events+=",event270",i="productbased|"),spreadShopLoaded.jsIntegrated?i+="integrated":i+="standalone"}catch(e){_satellite.notify("shop type recognition error: "+e,3)}a.eVar9=i}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("BusinessSegment"),"Shop")},function(){return(-1==location.href.search("userarea")||t.self===t.top)&&!location.hostname.match("checkout")}],event:"pagebottom"},{name:"Spreadshop Detail Page Load",trigger:[{engine:"sc",command:"addEvent",arguments:["prodView"]},{engine:"sc",command:"customSetup",arguments:[function(t,i){var n=_satellite.getVar("Product"),r=_satellite.getVar("GlobalPrefix");i.products=_satellite.getVar("ShopId")+";"+r+n.type+"-"+r+n.appearance;try{var s=a.getElementsByClassName("sprd-detail-sizes__size--stockout");if(s.length>0){var o="7";for(o=(o=o+";"+_satellite.getVar("ProductTypeId"))+";"+_satellite.getVar("AppearanceId")+":",k=0;k<s.length;k++)o+=s[k].getAttribute("id").substring(24)+"|";o=o.substring(0,o.length-1),i.eVar31=o}}catch(e){_satellite.notify("Stockout analysis error "+e,4)}}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageName"),"MDS | SpreadShop | Detail")}],event:"pagebottom"}],rules:[{name:"Adobe OptOut clicked",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{prop63:"Adobe OptOut clicked"},addEvent:["event399"]}]}],conditions:[function(){return"1"!=_satellite.readCookie("adobeOptOut")&&("adobeOptOut"==this.getAttribute("data-optinout")||void 0)}],selector:"span.btn_optOutIn",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Cart Change Marketplace",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar44:"%CountryTag%-%PageName%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop13:"%PathName%",prop32:"%BusinessSegment%",prop49:"D=v62",prop63:"Cart Change Marketplace"},customSetup:function(t,a){var i=_satellite.getVar("CartPrio"),n=_satellite.getVar("Cart");if(n.numberOfItems>i.numberOfItems){a.events="scAdd,event3",1==n.numberOfItems&&(a.events+=",scOpen");var r=_satellite.getVar("Product"),s=_satellite.getVar("GlobalPrefix");a.products=_satellite.getVar("ShopId")+";"+s+r.type+"-"+s+r.appearance;var o="";try{o=spreadShopLoaded.pageData.articleId==spreadShopLoaded.pageData.designId?"sellable":"flexi"}catch(e){}a.prop21=o,_satellite.track("fireCartAddPixelMP")}else a.events="scRemove";a.linkTrackVars="events, prop21",_satellite.setVar("CartPrio",n)}}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageComponent"),/Marketplace|Spreadshirt/i)},function(){var e=_satellite.getVar("CartPrio"),t=_satellite.getVar("Cart");return t.numberOfItems>0&&t.numberOfItems!=e.numberOfItems||(_satellite.setVar("CartPrio",t),!1)}],event:"dataelementchange(Cart)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"CartChange Shop",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{prop63:"CartChange Shop"},customSetup:function(e,t){var a=_satellite.getVar("event.detail","",e);"add"==a.type?(t.linkTrackVars+=",events",t.linkTrackEvents="event327,scAdd",t.events="event327,scAdd"):"remove"==a.type&&(t.linkTrackVars+=",events",t.linkTrackEvents="scRemove",t.events="scRemove")}}]}],conditions:[function(e){return"quantityChange"!=_satellite.getVar("event.detail","",e).type}],selector:"body",eventHandlerOnElement:!0,event:"custom",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1,customEvent:"sprdAddShopBasketChange"},{name:"Content  | Service Click",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar41:"%BusinessSegment%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop32:"D=v41",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"Content  | Service Click"},customSetup:function(e,t){var a=e.target;t.eVar34="",t.events="",a.className.includes("promo-panel")?t.eVar34="Promo Panel Click":a.className.includes("cookie-banner__button")?(t.eVar34="Cookie Banner accept click",t.events="event291"):"newsletter-submit"==a.id?(t.eVar34="Footer - Newsletter Signup",t.events="event7"):a.className.includes("ml-shipping")?t.eVar34="CYO - Product Assortment - SLA Banner click":a.className.includes("m-sizes-detailhint__lightbox")?t.eVar34="CYO - Product Assortment - local Size Banner click":"login-menu-header"==this.id&&(t.eVar34=_satellite.getVar("PageName")+" - Login Button - click"),t.prop30=t.eVar34,t.linkTrackVars="eVar34,prop30",t.linkTrackEvents=t.events}}]}],selector:"div.promo-panel, .cookie-banner__button, #newsletter-submit, section.ml-shipping, span.m-sizes-detailhint__lightbox",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1,bubbleStop:!1},{name:"Content | Movement Click",conditions:[function(){var e=this.getAttribute("data-tracking");return e&&e.length>0&&(_satellite.notify("Movement click found!",4),a.cookie="clickValue="+encodeURIComponent(e)+" - link clicked;path=/;domain="+_satellite.getVar("cookiedomain")),!1}],selector:"a",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1,bubbleStop:!1},{name:"GeoRedirect - Stay",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar44:"%CountryTag%-%PageName%",eVar62:"%Page_URL%",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop30:"D=v34",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"GeoRedirect - Stay"},customSetup:function(e,t){"A"==this.tagName||"IMG"==this.tagName?(t.eVar34="Geo redirect - stay button - click",t.eVar88="GR|a:stay|d:flagClick|"):(t.eVar34="Geo redirect - close dialog - click",t.eVar88="GR|a:stay|d:closeClick"),t.linkTrackVars="eVar34,eVar88"},addEvent:["event287"]}]}],conditions:[function(){return"A"!=this.tagName&&"IMG"!=this.tagName||!this.parentNode.previousSibling}],selector:"div.geoRedirect a, div.geoRedirect img, div.geoRedirect div.close",eventHandlerOnElement:!0,event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"HelpCenter - Star - Rating",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar34:"Zendesk - Rating Star - Submit",eVar44:"%CountryTag%-%PageName%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop30:"D=v34",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"HelpCenter - Star - Rating"},customSetup:function(e,t){t.linkTrackVars="events";var i,n,r,s,o,l,c="",u="";l=0,o=181;for(var d=(n=["relevanz","detail","rating"]).length;d--;)i="[name='"+n[d]+"']",a.querySelectorAll(i).length>0&&(u+=(s=0===l?"":",")+(r="event"+o),c+=s+r+"="+a.querySelector(i+":checked").value),l++,o++;t.linkTrackEvents="event180,"+u,t.events="event180,"+c}}]}],selector:".rating-detail button",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"HelpCenter - Thumbs - Rating ",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar34:"Zendesk - %PageName% - %thumbsval%",eVar44:"%CountryTag%-%PageName%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop30:"D=v34",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"HelpCenter - Thumbs - Rating"}}]}],conditions:[function(){return this.classList.contains("fa-thumbs-up")?_satellite.setVar("thumbsval","upvote"):_satellite.setVar("thumbsval","downvote"),!0}],selector:".thumbs",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Jump Button Click",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar34:"%ClickValueTmp%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",prop30:"D=v34",prop49:"D=v62",prop63:"Jump Button Click"}}]}],conditions:[function(){return!!(this&&this.hasAttribute("data-jump-id")&&this.hasAttribute("data-tracking")&&this.getAttribute("data-tracking").length>0)&&(_satellite.setVar("ClickValueTmp",this.getAttribute("data-tracking")),!0)}],selector:".sprd-button.primary",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1,bubbleStop:!1},{name:"Login | Status Change",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar17:"%PartnerId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop49:"%Page_URL%",prop63:"Login | Status Change"},addEvent:["event60"]}]}],conditions:[function(){if(_satellite.notify("checking condition",4),"user"!=t.spreadShopLoaded.loginType)return!1;var e=_satellite.getVar("LoginStatus");return e&&"false"!=e}],event:"dataelementchange(LoginStatus)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1,bubbleStop:!1},{name:"MMP temp_PageBottom",conditions:[function(){var e=_satellite.getVar("PageComponent"),a=t.spreadShopLoaded&&t.spreadShopLoaded.pageType?t.spreadShopLoaded.pageType:"",i=encodeURIComponent(location.href);if("Spreadshirt"!=e&&"CMS"!=a||_satellite.getVar("previousURL")===i)if("Marketplace"==e){var n=encodeURIComponent(JSON.stringify(_satellite.getVar("Product")));"LIST"==a&&_satellite.getVar("previousURL")!==i?_satellite.track("MMP ListPV"):"DETAIL"==a&&_satellite.getVar("previousProduct")!==n?(_satellite.track("MP FacebookPixel ViewContent"),_satellite.track("MMP DetailPV")):("RANGE"==a||"FAVORITES"==a&&_satellite.getVar("previousURL")!==i)&&_satellite.track("CMSPV"),_satellite.setVar("previousProduct",n)}else"SpreadShop"==e&&("LIST"==a?_satellite.track("Spreadshop ListPV"):"DETAIL"==a&&_satellite.track("Spreadshop DetailPV"));else _satellite.track("CMSPV");return"SpreadShop"!=e&&_satellite.track("loadGoogleAnalytics"),_satellite.setVar("previousURL",i),_satellite.track("clean head"),!1}],selector:"body",event:"custom",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1,customEvent:"DTMtemp"},{name:"MP | Feature Click | ListPage",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar41:"%BusinessSegment%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop32:"D=v41",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"MP | Feature Click | ListPage"},customSetup:function(e,t){var a=e.target;t.eVar34="",t.events="",this.className.includes("Selector")?(t.eVar34="Marketplace View Switch",t.eVar48=_satellite.getVar("Marketplace ViewType")):"article__favorite article__favorite--active"==a.className?(t.eVar34="Add2Wishlist",
t.events="event28"):"article__favorite"==this.className&&(t.eVar34="Wishlist Remove",t.events="event29"),t.prop30=t.eVar34,t.linkTrackVars="eVar34,prop30,eVar48",t.linkTrackEvents=t.events}}]}],conditions:[function(e){var t=function(e){a.cookie="clickValue="+encodeURIComponent(e)+" - link clicked;path=/;domain="+_satellite.getVar("cookiedomain")};if("paginationBar"==this.id){if(this!=e.target&&e.target.className.includes("numberPanel")){var i,n=e.target.getAttribute("class"),r=a.getElementsByClassName("number active")[0].innerText;return-1!=n.search("arrow first mobileOnly")?i="fast backward":-1!=n.search("arrow backward")?i="backward":-1!=n.search("arrow forward")?i="forward":-1!=n.search("number")&&(i="number",r=e.target.innerText),t(_satellite.getVar("PageName")+" - pagination - "+i+" - "+r),!1}return!1}if("quick-filter__item"==this.className)return t("MP Searchpage - Quickfilter - "+this.innerHTML),!1;if("tiles__item"==this.className){var s=this.querySelector(".tiles__name").innerHTML,o=this.parentNode.parentNode.getAttribute("data-tracking");return t("MP Listpage Tiles "+_satellite.getVar("MpSearchTerm")+" - "+o+" to "+s),!1}return"relatedTags"!=this.id||("A"==e.target.tagName&&t("MP Listpage relatedTags | "+e.target.innerHTML),!1)}],selector:"#paginationBar,  .Selector.views,  a.quick-filter__item,  #megaBanner .tiles__list a,  #relatedTags,  div.article__favorite",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1,bubbleStop:!1},{name:"MP | Feature Click | PDP",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar41:"%BusinessSegment%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop32:"D=v41",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"MP | Feature Click | PDP"},customSetup:function(e,t){var a=e.target;t.eVar34="",t.events="","btnEditText"==this.id||"btnEdit"==this.id||this.className.includes("sprd-design-edit-tile__preview")?(t.eVar34="Article Detail - Customize It","www"==_satellite.getVar("BusinessSegment")?t.events="event82":t.events="event46"):"button favorite active"==a.className?(t.eVar34="Add2Wishlist",t.events="event28"):"button favorite"==this.className?(t.eVar34="Wishlist Remove",t.events="event29"):(this.id="vpHintButton")?t.eVar34="MP PDP - Virtual Products - Button Click":this.className.indexOf("social-sharing-item")>-1&&(t.eVar34="PDP Social Share |"+this.className.substr(20),t.events="event27"),t.prop30=t.eVar34,t.linkTrackVars="eVar34,prop31",t.linkTrackEvents=t.events}}]}],conditions:[function(e){var t=function(e){a.cookie="clickValue="+encodeURIComponent(e)+" - link clicked;path=/;domain="+_satellite.getVar("cookiedomain")};if("item link-m"==this.className)return _satellite.notify("Setting SearchType",4),_satellite.setVar("SearchType","related Tag"),_satellite.notify("Setting related Tag: "+this.textContent,4),_satellite.setVar("relatedTagPrevSite",this.textContent),!1;if(this.className.includes("slider__item"))return _satellite.notify("Virtual Item Click Found!",4),"related-products-slider"==this.parentNode.parentNode.id?t("Marketplace - PDP - relatedDesign"):t("MP PDP - Virtual Products - Change"),!1;if("recently-viewed-items-slider"==this.id)return t(_satellite.getVar("PageName")+" - recently viewed"),!1;if("detailColorSelector"==this.id)return t("Marketplace - PDP - Color change"),!1;if("recommended-products-slider"==this.id){if("square-size"==e.target.className||"article"==e.target.className||"IMG"==e.target.tagName)return t("MP PDP - recommended Products"),!1}else{if("designs-by-user-slider"!=this.id)return!0;if("square-size"==e.target.className||"article"==e.target.className||"IMG"==e.target.tagName)return t("MP PDP - other designs by this user"),!1}},function(){return _satellite.textMatch(_satellite.getVar("PageName"),"Marketplace | Product Detail")}],selector:"div#btnEditText,   div#btnEdit,   div.sprd-design-edit-tile__preview,   .button.favorite,   div.RelatedTags a,   #vpHintButton,   #overlay-product-type-slider .slider__item,   #detail-product-type-slider .slider__item,   #related-products-slider div.slider__item,   #recently-viewed-items-slider,   #detailColorSelector,   a.social-sharing-item,   #recommended-products-slider, #designs-by-user-slider",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1,bubbleStop:!1,customEvent:"clock"},{name:"MP | Feature Click | Showroom",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar41:"%BusinessSegment%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop32:"D=v41",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"MP | Feature Click | Showroom"},customSetup:function(e,t){e.target;if(t.eVar34="",t.events="",this.className.includes("edit")||this.className.includes("close")){var a="started"==_satellite.getVar("editStatus")?"ended":"started";_satellite.setVar("editStatus",a),t.events="started"==a?"event210":"event211",t.eVar34="MP - Showroom - Edit Mode"}else if(this.parentNode.className.includes("descriptionEditor"))t.eVar34="MP Showroom - Edit description",t.events="event216";else if(this.parentNode.className.includes("chanInputPanel"))t.eVar34="MP Showroom - Edit channel",t.events="event215";else if(this.parentNode.className.includes("SidebarFilter"))t.eVar34="MP Showroom - Edit filter",t.events="event228";else if(this.className.includes("circleButton")){var i="DIV"==this.previousSibling.previousSibling.tagName?"Banner":"Avatar";t.eVar34="MP Showroom - Edit "+i,t.events="Banner"==i?"event214":"event213"}t.prop30=t.eVar34,t.linkTrackVars="eVar34,prop30",t.linkTrackEvents=t.events}}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageName"),/Showroom/i)}],selector:"div.button.edit,div.button.close,.button.apply,.button.manage,div.circleButton.upload",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"MP | Feature Used | Manual Search",conditions:[function(){return _satellite.setVar("SearchType","Term"),_satellite.setVar("UserInputSearchToBeCollected",!0),!0}],selector:"#header-search, #searchForm",event:"submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"PartnerArea | Page Change",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar17:"%PartnerId%",eVar41:"%BusinessSegment%",eVar44:"%CountryTag% - %PageName%",eVar5:"%Page_referrer%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%QueryString%",eVar65:"%PathName%",eVar70:"%TimeStampLong%",prop11:"%trackingServerSecure%",prop12:"%Page_referrer%",prop14:"%UserAgent%",prop18:"%s_fid%",prop32:"%BusinessSegment%",prop49:"%Page_URL%",prop63:"PartnerArea | Page Change",pageName:"%PageName%"},customSetup:function(e,t){if("MDS | Partner Area | Shop Dashboard"==_satellite.getVar("PageName")){t.linkTrackVars+=",eVar55,eVar56",t.events+=",event249";var a=_satellite.getVar("NumberOfShops");_satellite.setVar("currentNumberOfShops",a),t.eVar55=a.shops,t.eVar56=a.activeShops}},addEvent:["event87:%PartnerId%"]}]}],conditions:[function(){return _satellite.getVar("PageName").indexOf("MDS | Partner Area")>-1}],event:"locationchange",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"ShopPoweredBySpreadshirt",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar32:"ShopPoweredBySpreadshirt",eVar34:"Shop - powered by Spreadshirt - click - %ShopId%",eVar44:"%CountryTag%-%PageName%",eVar62:"%Page_URL%",eVar64:"%PageName%",prop30:"D=v34",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"ShopPoweredBySpreadshirt"},customSetup:function(e,t){"us"==_satellite.getVar("CountryTag")||"ca-en"==_satellite.getVar("CountryTag")||"ca-fr"==_satellite.getVar("CountryTag")||"au"==_satellite.getVar("CountryTag")?this.getAttribute("href").indexOf("spreadshirt")>-1?t.extendAnyAffiliateCookie(9985):t.extendAnyAffiliateCookie(9987):this.getAttribute("href").indexOf("spreadshirt")>-1?t.extendAnyAffiliateCookie(1253021):t.extendAnyAffiliateCookie(1253023)}}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageComponent"),"SpreadShop")}],selector:"a#buttonSpreadshirt",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Zendesk Search",trigger:[{tool:["00ddea32ed5d3eb1c27c048167807bc5"],command:"trackLink",arguments:[{setVars:{eVar44:"%CountryTag%-%PageName%",eVar59:"%this.value%",eVar62:"%Page_URL%",eVar64:"%PageName%",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"Zendesk Search"}}]}],selector:"#query",event:"change",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1}],directCallRules:[{name:"CMSPV",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar41:"%BusinessSegment%",eVar44:"%CountryTag%-%PageName%",eVar5:"%Page_referrer%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop10:"%PreviousPage%",prop11:"%trackingServerSecure%",prop12:"D=v5",prop13:"%PathName%",prop14:"%UserAgent%",prop18:"%s_fid%",prop32:"D=v41",prop37:"%PageUrl_50char%",prop49:"%window.location.href%",prop63:"CMS Pageview",pageName:"%PageName%"},customSetup:function(e,i){var n=_satellite.getVar("PageName");if(i.events="",i.eVar34=_satellite.getVar("ClickValue"),n.indexOf("Showroom")>-1&&a.getElementsByClassName("gwt-Label button pattern edit")[0]&&(i.events="event212"),"Spreadshirt | Register"==n&&("us"==_satellite.getVar("CountryTag")||"ca-en"==_satellite.getVar("CountryTag")||"ca-fr"==_satellite.getVar("CountryTag")||"au"==_satellite.getVar("CountryTag")?i.extendAnyAffiliateCookie(10689):i.extendAnyAffiliateCookie(1254951)),i.eVar34.indexOf("Gift Finder")>-1)switch(_satellite.notify("Gift finder found!",4),i.eVar34.split(" - ").length){case 3:i.events="event220",_satellite.notify("adding 220",4);break;case 4:i.events="event222",_satellite.notify("adding 222",4)}if("CYO | Assortment | list"==n){var r=t.page_data&&t.page_data.data&&t.page_data.data.filter||{};i.eVar18="product:CYO-"+(r.categorygroup?r.categorygroup:"ALL")+"|department:CYO-"+(r.department?r.department:"ALL")+"|color:CYO-"+(r.appearancegroup?r.appearancegroup:"ALL")+"|size:CYO-"+(r.sizegroup?r.sizegroup:"ALL")+"|p18:CYO-ALL|format:CYO-ALL|priceFilter:CYO-"+(r.price?r.price:"ALL")+"|styleFilter:CYO-ALL|attribute:CYO-"+(r.feature?r.feature:"ALL")}if("www"==_satellite.getVar("BusinessSegment")&&"1"!=_satellite.readCookie("googleOptOut")&&"function"==typeof gtag&&gtag("config","UA-24747471-35",{anonymize_ip:!0,forceSSL:!0,page_location:location.href,page:location.pathname,page_title:_satellite.getVar("PageName"),custom_map:{dimension1:"ecomm_pagetype",dimension2:"ecomm_prodid"}}),n.indexOf("Assortment | detail")>-1||n.indexOf("Marketplace | Landingpage | tShirtOfTheWeek")>-1){var s=_satellite.getVar("Product"),o=_satellite.getVar("GlobalPrefix");i.products=_satellite.getVar("ShopId")+";"+o+s.type+"-"+o+s.appearance,i.events+=",prodView"}}}]}]},{name:"Checkout.checkoutStep",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar44:"%CountryTag% - %PageName%",prop63:"Checkout Step Change"},customSetup:function(e,a){var i=t.dtm["Checkout.checkoutStep"];"invoice"==i.data.step?(a.linkTrackVars="events,eVar47",a.linkTrackEvents="scCheckout,event43",a.events="scCheckout,event43",i.data.newsletter?a.eVar47="Checkout Newsletter SignUp: true":a.eVar47="Checkout Newsletter SignUp: false"):"review"==i.data.step?(a.linkTrackVars="events",a.linkTrackEvents="scCheckout,event44",a.events="scCheckout,event44"):"checkout"==i.data.step&&(a.linkTrackVars="events",a.linkTrackEvents="scCheckout,event42",a.events="scCheckout,event42"),i.meta.mode&&"d2c"==i.meta.mode?(a.linkTrackVars+=",eVar41,prop32",a.eVar41="www",a.prop32=a.eVar41):i.meta.mode&&"partner"==i.meta.mode?(a.linkTrackVars+=",eVar41,prop32",a.eVar41="Shop",a.prop32=a.eVar41):i.meta.mode&&(a.linkTrackVars+=",eVar41,prop32",a.eVar41=i.meta.mode,a.prop32="Shop"),a.prop12=i.meta.referrer,a.linkTrackVars+=",prop12"}}]}]},{name:"clean head",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5769443d64746d63b00014ac.js"}]}]}]},{name:"dcMedia",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5c87b99964746d46f4004469.js"}]}]}]},{name:"designer-feature",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar44:"%CountryTag%-%PageName%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop49:"%Page_URL%",prop63:"Designer Feature Used"},customSetup:function(a,i){try{var n=t.trackingData,r=n.featureName;_satellite.notify("Feature registered: "+r,4),i.eVar38=r,"design-selection-search"==r?i.eVar4="Designer | Term |"+n.featureDetail.term:"design-selection-hot-topic"==r?i.eVar4="Designer | HotTopic |"+n.featureDetail.term:"product-selection-select"!=r&&"appearance-select"!=r&&"design-selection-select"!=r&&"menu-text"!=r&&"upload-design"!=r&&"zero-state-panel"!=r&&"design-selection-hot-topic"!=r&&(_satellite.notify("Feature not whitelisted, aborting tracking call.",4),i.abort=!0)}catch(e){i.eVar87="Designer Feature | "+e}i.linkTrackVars="eVar4,eVar38"},addEvent:["event306"]}]}]},{name:"designer-step",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar44:"%CountryTag%-%PageName%",eVar52:"%ShopId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop10:"%PreviousPage%",prop13:"%PathName%",prop63:"Designer Step Change",pageName:"%PageName%"},customSetup:function(a,i){var n=t.trackingData;i.events="";try{if(i.eVar35=n.stepName,"getPrice"==n.stepName)i.events="event307";else if("addToCart"==n.stepName){var r=_satellite.getVar("Product"),s=_satellite.getVar("GlobalPrefix");i.products=_satellite.getVar("ShopId")+";"+s+r.type+"-"+s+r.appearance,i.events="event309,scAdd",_satellite.track("fireCartAddPixelCYO"),"1"==_satellite.readCookie("dcmnVisit")&&(_satellite.setVar("dcmnCase","cartAdd"),_satellite.setVar("dcmnProduct",r.type),_satellite.track("dcMedia"))}}catch(e){i.eVar87="Designer Step | "+e}}}]}]},{name:"fireCheckoutPixels",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5a059df864746d7039005a80.js"},{src:"satellite-5a65a0bd64746d0527002f58.js"},{src:"satellite-5a65a0bd64746d0527002f5b.js"},{src:"satellite-5c07c2a064746d4163010eff.js"},{src:"satellite-5a65a0bd64746d0527002f5c.js"},{src:"satellite-5c87b9d064746d7044002f13.js"}]}]}]},{name:"Checkout.orderSuccess",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar42:"%last_sem_touch%",eVar62:"%Page_URL%",eVar63:"+1",prop49:"D=v62",prop63:"Fire Checkout Success",pageName:"Checkout | Success"},customSetup:function(i,n){var r=_satellite.getVar("GlobalPrefix"),s=function(e,t){return e[t.key]=t.value,e};try{for(var o=t.dtm["Checkout.orderSuccess"],l=r+o.data.order.id,c=o.data.order.orderItems,u=[],d=0;d<c.length;d++)transactionProductInfo=c[d].element.properties.reduce(s,{}),u.push({productType:transactionProductInfo.productType,appearance:transactionProductInfo.appearance,category:c[d].shop.id,price:c[d].price.vatExcluded,quantity:c[d].quantity});n.products=r+u[0].category+";"+r+u[0].productType+"-"+r+u[0].appearance+";"+u[0].quantity+";"+Math.floor(100*u[0].price)*u[0].quantity/100;for(d=1;d<u.length;d++)n.products+=","+r+u[d].category+";"+r+u[d].productType+"-"+r+u[0].appearance+";"+u[d].quantity+";"+Math.floor(100*u[d].price)*u[0].quantity/100;n.eVar25=c[0].origin.id,n.eVar52=r+o.data.order.shop.id,"d2c"==o.meta.mode?n.prop32="www":n.prop32="Shop",n.eVar11=o.data.details.couponId||"",n.eVar3=o.data.paymentType.category||"",n.eVar54=l,n.purchaseID=l,n.events="event45,purchase"}catch(e){_satellite.notify("Checkout tracking error:"+e,4),n.eVar87="Checkout Tracking | "+e;var p=a.referrer.toLowerCase().split("&");l="";if((o=t.dtm["Checkout.orderSuccess"])&&o.data&&o.data.order&&o.data.order.id)l=r+o.data.order.id;else for(var g=0;g<p.length;g++)p[g].indexOf("orderid")>-1&&(l=r+p[g].split("=")[1]);""!==l&&(n.eVar54=l,n.purchaseID=l,n.events="event45,purchase")}n.eVar91=_satellite.readCookie("affiliate_2019"),n.eVar92=_satellite.readCookie("direct_affiliate_2019")}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5b644f4764746d2cea000648.js"}]}]}]},{name:"MMP DetailPV",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar15:"%MPArticlePrice%",eVar34:"%ClickValue%",eVar41:"%BusinessSegment%",eVar46:"%MP RMKT Product ID%",eVar52:"%ShopId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar65:"%PathName%",eVar66:"%QueryString%",eVar70:"%TimeStampLong%",eVar74:"%MP PDP Tags%",eVar79:"%MpDesignId%",prop10:"%PreviousPage%",prop11:"%trackingServerSecure%",prop14:"%UserAgent%",prop18:"%s_fid%",prop30:"D=v34",prop32:"%BusinessSegment%",prop49:"%Page_URL%",prop63:"MMP Detail Page Load",pageName:"%PageName%"},customSetup:function(i,n){var r=t.spreadShopLoaded&&spreadShopLoaded.pageData&&spreadShopLoaded.pageData.sellableId;n.prop59=r,n.eVar76=r;var s=_satellite.getVar("Product"),o=_satellite.getVar("GlobalPrefix");n.products=_satellite.getVar("ShopId")+";"+o+s.type+"-"+o+s.appearance,n.eVar44=_satellite.getVar("CountryTag")+"-"+_satellite.getVar("PageName"),n.events="prodView,event2="+_satellite.getVar("MPArticlePrice");try{var l=a.getElementById("detailSizeSelector").getElementsByClassName("disabled size").length;if(l>0){var c="1";for(c=(c=c+";"+_satellite.getVar("ProductTypeId"))+";"+_satellite.getVar("AppearanceId")+":",k=0;k<l;k++)c+=a.getElementsByClassName("disabled size")[k].getAttribute("data-size-id")+"|";c=c.substring(0,c.length-1),n.eVar31=c}}catch(e){_satellite.notify("Stockout analysis error "+e,4)}try{var u=a.getElementsByClassName("productRating noMobile")[0].getElementsByClassName("stars")[0].getAttribute("data-rating")}catch(e){_satellite.notify("ekomi rating not found! "+e,3)}if(u&&(n.events+=",event229="+u),"www"==_satellite.getVar("BusinessSegment")&&"1"!=_satellite.readCookie("googleOptOut")){"function"==typeof gtag&&gtag("config","UA-24747471-34",{anonymize_ip:!0,forceSSL:!0,page_location:location.href,page:location.pathname,page_title:_satellite.getVar("PageName"),ecomm_pagetype:_satellite.getVar("PageName"),custom_map:{dimension1:"ecomm_pagetype",dimension2:"ecomm_prodid"}});s=_satellite.getVar("Product")||{};"function"==typeof gtag&&gtag("event","view_item",{items:[{id:s.id,category:_satellite.getVar("ShopId"),variant:s.appearance,price:s.price||"0.0"}],ecomm_pagetype:"product",ecomm_prodid:_satellite.getVar("MP RMKT Product ID")||""})}}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58ee12bc64746d2d7e004664.js"}]}]}]},{name:"MMP ListPV",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar41:"%BusinessSegment%",eVar48:"%Marketplace ViewType%",eVar5:"%Page_referrer%",eVar52:"%ShopId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar65:"%PathName%",eVar66:"%QueryString%",eVar70:"%TimeStampLong%",prop10:"%PreviousPage%",prop11:"%trackingServerSecure%",prop12:"D=v5",prop13:"D=v65",prop14:"%UserAgent%",prop18:"%s_fid%",prop32:"%BusinessSegment%",prop37:"%PageUrl_50char%",prop49:"%Page_URL%",prop63:"MMP ListPage Load",pageName:"%PageName%",campaign:"%direct_affiliate%"},customSetup:function(a,n){var r=spreadShopLoaded.pageData,s=function(e){return e.map(function(e){return e.id}).join(",")};n.eVar4="Marketplace | "+(r.searchMethod||"internal Referred")+" | "+(r.searchQuery||"No SearchTerm");try{n.eVar18="product:"+(r.mpCategoryId?r.mpCategoryId:"ALL")+"|department:"+(r.departmentId?r.departmentId:"ALL")+"|color:"+("object"==typeof r.colors&&null!=r.colors?s(r.colors.a):"ALL")+"|size:"+(r.sizes?s(r.sizes.a):"ALL")+"|p18:"+("strict"==r.safeSearchName?"On":"Off")+"|format:"+("object"==typeof r.formats&&null!=r.formats?s(r.formats.a):"ALL")+"|priceFilter:"+("object"==typeof r.priceGroups&&null!=r.priceGroups?s(r.priceGroups.a):"ALL")+"|styleFilter:"+("object"==typeof r.styles&&null!=r.styles?s(r.styles.a):"ALL")+"|attribute:"+(r.ptAttributeId?r.ptAttributeId:"ALL")}catch(e){n.eVar87="Marketplace | Filter tracking Error"}n.eVar44=_satellite.getVar("CountryTag")+"-"+_satellite.getVar("PageName"),n.events="event5,event107",t.partid=i,n.eVar34=_satellite.getVar("ClickValue"),n.eVar34&&n.eVar34.indexOf("Gift Finder")>-1&&(n.linkTrackEvents+=",event223",n.events+=",event223"),"www"==_satellite.getVar("BusinessSegment")&&"1"!=_satellite.readCookie("googleOptOut")&&"function"==typeof gtag&&gtag("config","UA-24747471-34",{anonymize_ip:!0,forceSSL:!0,page_location:location.href,page:location.pathname,page_title:_satellite.getVar("PageName"),ecomm_pagetype:_satellite.getVar("PageName"),custom_map:{dimension1:"ecomm_pagetype",dimension2:"ecomm_prodid"}})}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58ee12cf64746d2d7500447e.js"}]}]}]},{name:"MP FacebookPixel ViewContent",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-591afe8a64746d07d80008e1.js"}]}]}]},{name:"Partner - register",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar44:"%CountryTag%-%PageName%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar7:"%any_affiliate value%",eVar70:"%TimeStampLong%",prop37:"%PageUrl_50char%",prop49:"D=v62",prop63:"Partner - register"},customSetup:function(e,a){a.linkTrackVars+=",eVar17,eVar34,prop30,events";var i=_satellite.getVar("Partner Register"),n="undefined";void 0!==i?("undefined"!=typeof i.partnerId?(n=_satellite.getVar("GlobalPrefix")+i.partnerId,a.events="event248:"+n,a.eVar17=n):(a.linkTrackVars+=",eVar87",a.eVar87="Partner Registration | Registration from Partner Area without PartnerId"),"function"==typeof t.fbq&&(fbq("track","PageView"),fbq("track","CompleteRegistration"))):"undefined"!=typeof spreadShopLoaded.userId?(n=_satellite.getVar("GlobalPrefix")+spreadShopLoaded.userId,a.events="event248:"+n,a.eVar17=n):(a.linkTrackVars+=",eVar87",a.eVar87="Partner Registration | Registration from Marketplace without PartnerId"),"undefined"!==n&&""!==n&&(-1==location.href.search("shopId")?(a.eVar34=_satellite.getVar("PageName")+" - marketplace partner - submit",a.prop30="D=v34",a.events+=",event253:"+n):(a.events+=",event250:"+n,a.events+=",event254:"+n,a.events+=",event252:"+n,a.events+=",event255:"+n,a.eVar34=_satellite.getVar("PageName")+" - shop partner - submit",a.prop30="D=v34"),"function"==typeof gtag&&(gtag("config","AW-1005601848",{anonymize_ip:!0,forceSSL:!0}),gtag("event","conversion",{send_to:"AW-1005601848/yRbpCKjOtHAQuIjB3wM"}))),a.linkTrackEvents=a.events}}]}]},{name:"partnerAreaFeature",trigger:[{engine:"sc",command:"trackLink",arguments:[{setVars:{eVar63:"+1",eVar64:"%PageName%",eVar70:"%TimeStampLong%",prop63:"Partner Area | Feature"},customSetup:function(e,a){var i=_satellite.getVar("partnerAreaPayload"),n=_satellite.getVar("partnerAreaEvent");if("UPLOAD_FINISHED"==n)0!=i.success&&(a.linkTrackVars+=",events",a.linkTrackEvents="event68",a.events="event68="+i.success,"function"==typeof t.fbq&&(fbq("track","PageView"),fbq("track","CustomizeProduct"))),0!=i.failed&&(a.linkTrackVars+=",events",a.linkTrackEvents="event319",a.events="event319="+i.failed);else if("APC_START"==n)a.events="event50",a.linkTrackEvents="event50";else if("APC_STEP_FINISHED"==n)switch(i.step){case"POINTS_OF_SALE":a.events="event51",a.linkTrackEvents="event51";break;case"ASSORTMENT":a.events="event52",a.linkTrackEvents="event52";break;case"META_DATA":a.events="event53",a.linkTrackEvents="event53"}a.linkTrackVars="events"}}]}]},{name:"Spreadshop DetailPV",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar41:"%BusinessSegment%",eVar44:"%CountryTag% - %PageName%",eVar5:"%Page_referrer%",eVar52:"%ShopId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar65:"%PathName%",eVar66:"%QueryString%",eVar70:"%TimeStampLong%",prop10:"%PreviousPage%",prop11:"%trackingServerSecure%",prop12:"D=v5",prop14:"%UserAgent%",prop18:"%s_fid%",prop32:"D=v41",prop37:"%PageUrl_50char%",prop49:"%Page_URL%",prop63:"Spreadshop Detail Page Load",pageName:"%PageName%"},customSetup:function(t,i){var n=_satellite.getVar("Product"),r=_satellite.getVar("GlobalPrefix");i.products=_satellite.getVar("ShopId")+";"+r+n.type+"-"+r+n.appearance;try{var s=a.getElementsByClassName("sprd-detail-sizes__size--stockout");if(s.length>0){var o="7";for(o=(o=o+";"+_satellite.getVar("ProductTypeId"))+";"+_satellite.getVar("AppearanceId")+":",k=0;k<s.length;k++)o+=s[k].getAttribute("id").substring(24)+"|";o=o.substring(0,o.length-1),i.eVar31=o}}catch(e){_satellite.notify("Stockout analysis error "+e,4)}},addEvent:["prodView"]}]}]},{name:"Spreadshop ListPV",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar34:"%ClickValue%",eVar41:"%BusinessSegment%",eVar5:"%Page_referrer%",eVar52:"%ShopId%",eVar62:"%Page_URL%",eVar63:"+1",eVar64:"%PageName%",eVar65:"%PathName%",eVar66:"%QueryString%",eVar70:"%TimeStampLong%",prop10:"%PreviousPage%",prop11:"%trackingServerSecure%",prop12:"D=v5",prop14:"%UserAgent%",prop18:"%s_fid%",prop32:"D=v41",prop37:"%PageUrl_50char%",prop49:"%Page_URL%",prop6:"D=v4",prop63:"Spreadshop ListPage Load",pageName:"%PageName%"},customSetup:function(e,t){t.eVar34="",t.eVar44=_satellite.getVar("CountryTag")+"-"+_satellite.getVar("PageName"),t.prop30="";var a=spreadShopLoaded.pageData.ptCategoryName;null==a&&(a="All Products");var i=spreadShopLoaded.pageData.departmentName;null==i&&(i="All Departments");var n=spreadShopLoaded.pageData.shopCategoryName;null==n&&(n="All Categorys"),t.eVar19=a+" - "+i+" - "+n,t.events=""}}]}]},{name:"fireCartAddPixelCYO",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5ca7352b64746d546e001138.js"}]}]}]},{name:"fireCartAddPixelMP",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5a8ea0d064746d4ce8004a96.js"},{src:"satellite-5ca4657164746d76a600a5fd.js"}]}]}]},{name:"sessionCamHeatmapDetailPages",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58fdc5fd64746d37c0003128.js"}]}]}]},{name:"sessionCamHeatmapListPages",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58fdc47364746d1905009f5b.js"}]}]}]}],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-124aa829ff8982cee1c829c85b6a0cadceccd01f",isStaging:!1,allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["spreadshirt.ch","spreadshirt.co.uk","spreadshirt.de","spreadshirt.dk","spreadshirt.es","spreadshirt.fi","spreadshirt.fr","spreadshirt.ie","spreadshirt.it","spreadshirt.net","spreadshirt.nl","spreadshirt.no","spreadshirt.pl","spreadshirt.se","vde"],scriptDir:"b0bbd3cb9948de215cf70653f28bdcb253a01057/scripts/",linkDelay:300,tagTimeout:3e3},data:{URI:a.location.pathname+a.location.search,browser:{},cartItems:[],revenue:"",host:{http:"adtm.spreadshirts.net/production",https:"adtm.spreadshirts.net/production"}},dataElements:{AffiliateId:{customJS:function(){var e=t.location.href;return e.indexOf("spreadshop.com")>-1||e.indexOf("sellmerch.org")>-1||e.indexOf("C5780")>-1||e.indexOf("C3598")>-1?_satellite.getVar("partnerAffiliateID"):_satellite.getVar("AffiliateIdD2C")},storeLength:"pageview"},affiliateID_COM:{customJS:function(){return affiliateID=_satellite.getVar("aid"),"7412"==affiliateID?aid="1209170":"7419"==affiliateID?aid="1209169":"7418"==affiliateID?aid="1209168":"7402"==affiliateID?aid="1209152":"7407"==affiliateID?aid="1209176":"2562"==affiliateID?aid="323148":"2563"==affiliateID?aid="323161":"7207"==affiliateID?aid="1207252":"8941"==affiliateID?aid="1250139":"7324"==affiliateID?aid="1207315":"7325"==affiliateID?aid="1207316":"8937"==affiliateID?aid="1250135":"7327"==affiliateID?aid="1207318":"7328"==affiliateID?aid="1207319":"7329"==affiliateID?aid="1207320":"7330"==affiliateID?aid="1207321":"7331"==affiliateID?aid="1207322":"7332"==affiliateID?aid="1207323":"7333"==affiliateID?aid="1207324":"7334"==affiliateID?aid="1207325":"7335"==affiliateID?aid="1207326":"7336"==affiliateID?aid="1207327":"7337"==affiliateID?aid="1207328":"7338"==affiliateID?aid="1207329":"7339"==affiliateID?aid="1207330":"7340"==affiliateID?aid="1207331":"7341"==affiliateID?aid="1207332":"8933"==affiliateID?aid="1250131":"7405"==affiliateID?aid="1209203":"7361"==affiliateID?aid="1207352":aid=affiliateID,aid},storeLength:"pageview"},AffiliateIdD2C:{customJS:function(){function e(e,t){return e.indexOf(t)>-1}var i="",n="",r="",s="",o=function(e,t){for(var a=(t=t.toLowerCase()).split("&"),i={},n="",r=0;r<a.length;r++){var s=a[r].split("=");i[s[0]]=s[1]||""}return n=(n=i[e.toLowerCase()]?i[e.toLowerCase()]:"").match(/(\d+)(?=\D)|(\d+$)/g)&&n.match(/(\d+)(?=\D)|(\d+$)/g)[0]||""};if("Checkout"==_satellite.getVar("PageComponent")){i="";var l=a.referrer.toLowerCase();r=o("affiliateid",l.substr(l.indexOf("?")+1))}else i=a.referrer.toLowerCase(),r=o("affiliateid",location.hash.substr(2));return(n=function(){if(_satellite.QueryParams.caseInsensitive.affiliateid){s=(s=_satellite.QueryParams.caseInsensitive.affiliateid).match(/(\d+)(?=\D)|(\d+$)/g)&&s.match(/(\d+)(?=\D)|(\d+$)/g)[0]||"";var e=new Date,t=e.getTime()+2592e6;return e.setTime(t),a.cookie="last_sem_touch="+s+";domain="+_satellite.getVar("cookiedomain")+";expires="+e.toGMTString(),s}return _satellite.QueryParams.caseInsensitive.campaign?_satellite.QueryParams.caseInsensitive.campaign:_satellite.QueryParams.caseInsensitive.scid?_satellite.QueryParams.caseInsensitive.scid:""}())?4==n.length||5==n.length?(_satellite.setVar("aid",n),_satellite.getVar("affiliateID_COM")):n:r?4==r.length||5==r.length?(_satellite.setVar("aid",r),_satellite.getVar("affiliateID_COM")):r:t.self!==t.top&&"Tablomat"==_satellite.getVar("PageComponent")?"":s=e(i,"google")&&e(i,"productsearch")?"1209152":e(i,"google")&&(e(i,"imgres")||e(i,"images"))?"1209152":e(i,"google")?"323148":e(i,"yahoo")?"323161":e(i,"bing")?"1207252":e(i,"facebook")?"1250139":e(i,"youtube")?"1207315":e(i,"blogspot")?"1207316":i.match(/[:\/\/|^]t\.co[\/|$]|twitter/)?"1250135":e(i,"myspace")?"1207318":e(i,"stumbleupon")?"1207319":e(i,"digg")?"1207320":e(i,"tumblr")?"1207321":e(i,"wordpress")?"1207322":e(i,"reddit")?"1207323":e(i,"livejournal")?"1207324":e(i,"mister-wong")?"1207325":e(i,"netvibes")?"1207326":e(i,"typepad")?"1207327":e(i,"delicious")?"1207328":e(i,"linkedin")?"1207329":e(i,"posterous")?"1207330":e(i,"instagram")?"1251503":e(i,"xing")?"1207331":e(i,"feedburner")?"1207332":e(i,"pinterest")?"1250131":e(i,"shareasale")?"1253391":e(i,"spreadshirt")?"1255939":""===i?"1209203":"1207352"},storeLength:"pageview"},"any_affiliate value":{cookie:"any_affiliate",storeLength:"pageview"},AppearanceId:{customJS:function(){return"Marketplace"==_satellite.getVar("PageComponent")||"SpreadShop"==_satellite.getVar("PageComponent")?_satellite.getVar("GlobalPrefix")+spreadShopLoaded.pageData.appearanceId:_satellite.getVar("GlobalPrefix")+a.getElementsByClassName("stage")[0].getProductModel().appearanceId},storeLength:"pageview"},BasketAmountItems:{customJS:function(){var e=null,t=[];switch(_satellite.getVar("PageComponent")){case"Spreadshirt":case"Marketplace":t=a.getElementsByClassName("textInput quantity customPageBackground"),e=a.getElementById("basketCountText")&&a.getElementById("basketCountText").innerHTML;break;case"SpreadShop":t=a.getElementsByClassName("sprd-quantity-control__input sprd-bg-m3 sprd-c-s2"),e=a.getElementById("sprd-basket-count")&&a.getElementById("sprd-basket-count").innerHTML;break;case"CYO":_satellite.notify("BasketAmountCase Tablomat",4),t=a.getElementsByClassName(" input-mini quantity-input");break;default:t=a.getElementsByClassName("quantity text_center")}if(!e)for(e=0,k=0;k<t.length;k++)e+=parseInt(t[k].value,10);return e},"default":"0",storeLength:"session"},BusinessSegment:{customJS:function(){switch(_satellite.getVar("PageComponent")){case"SpreadShop":return"Shop";default:return"www"}},storeLength:"pageview"},Cart:{customJS:function(){var e,t;if(localStorage.getItem("mmBasket")){var a=JSON.parse(localStorage.mmBasket);e=a.apiBasketId?a.apiBasketId:"",t=a.basketItems?a.basketItems.length:0}else"SpreadShop"==_satellite.getVar("PageComponent")&&localStorage.getItem("shpbskt")&&(e=localStorage.shpbskt,t=_satellite.getVar("BasketAmountItems"));return{numberOfItems:t,id:e}},storeLength:"pageview"},ClickValue:{customJS:function(){extendAnyAffiliateCookie=function(e){var t=i+7776e6,i=(new Date).getTime(),n=new Date,r=_satellite.readCookie("any_affiliate");void 0!==r&&r.split("|")[r.split("|").length-1]==e||(n.setTime(t),r=void 0!==r?r+"|"+e:e,a.cookie="any_affiliate="+r+";expires="+n.toGMTString()+";path=/;domain="+_satellite.getVar("cookiedomain"))};var e="";if(_satellite.readCookie("clickValue")){
e=decodeURIComponent(_satellite.readCookie("clickValue")||"");var t=new Date;t.setTime(t.getTime()-1);var i=_satellite.getVar("cookiedomain");a.cookie="clickValue=;expires="+t.toGMTString()+";path=/;domain="+i}return(e.indexOf("1st Level Navigation - sell")>-1||e.indexOf("Header - Sell - CTA sell")>-1||e.indexOf("Header - SSP - Top Panel")>-1||e.indexOf("Header - SSP - Mobile Menu - Bottom")>-1||e.indexOf("Header - SSP - Mobile Menu - Top")>-1)&&("us"==_satellite.getVar("CountryTag")||"ca-en"==_satellite.getVar("CountryTag")||"ca-fr"==_satellite.getVar("CountryTag")||"au"==_satellite.getVar("CountryTag")?extendAnyAffiliateCookie(9961):extendAnyAffiliateCookie(1252997)),"MP List Page MDS Banner - link clicked"==e&&("us"==_satellite.getVar("CountryTag")||"ca-en"==_satellite.getVar("CountryTag")||"ca-fr"==_satellite.getVar("CountryTag")||"au"==_satellite.getVar("CountryTag")?extendAnyAffiliateCookie(10421):extendAnyAffiliateCookie(1254305)),"CTA - SEO - SSP - link clicked"==e&&("us"==_satellite.getVar("CountryTag")||"ca-en"==_satellite.getVar("CountryTag")||"ca-fr"==_satellite.getVar("CountryTag")||"au"==_satellite.getVar("CountryTag")?extendAnyAffiliateCookie(10425):extendAnyAffiliateCookie(1254323)),_satellite.setVar("currentClickValue",e),e},storeLength:"pageview"},cookiedomain:{customJS:function(){if(a.domain.match(".co.uk"))return".spreadshirt.co.uk";if(a.domain.match(".com.au"))return".spreadshirt.com.au";if(a.domain.match("spreadshop.com"))return".spreadshop.com";var e=a.domain.split(".");return"."+e[e.length-2]+"."+e[e.length-1]},storeLength:"pageview"},CountryTag:{customJS:function(){var a="de";location.hostname.match(".*localhost.*")&&(a="de");var i=_satellite.getVar("PageComponent"),n=_satellite.getVar("Page_URL");if("Zendesk"==i)n.match(".*help.spreadshirt.*")?a=/help.spreadshirt.com\/hc\/([a-z,-]{2,6}).*/.exec(n)[1]:n.match(".*service.spreadshirt.*")&&(a=/service.spreadshirt.com\/hc\/([a-z,-]{2,6}).*/.exec(n)[1]),"en-us"==a&&(a="us"),"en-gb"==a?a="en":"fr-ca"==a?a="ca-fr":"da"==a?a="dk":"sv"==a&&(a="se");else if("Forum"==i)a=n.indexOf("deutsch")>-1?"de":n.indexOf("english")>-1?"en":n.indexOf("francais")>-1?"fr":n.indexOf("spreadshirt.com")>-1?"us":"net";else{if(tld=_satellite.getVar("tld"),"spreadShopLoaded"in t&&spreadShopLoaded&&spreadShopLoaded.shopData.shopHost)switch(tld="."+spreadShopLoaded.shopData.shopHost.split(".")[spreadShopLoaded.shopData.shopHost.split(".").length-1],tld){case".uk":tld=".co.uk";break;case".au":tld=".com.au"}if(""!=tld)if(".be"==tld)a="nl"==n.split("/")[3]?"be-nl":"be-fr";else if(".ch"==tld)a="it"==n.split("/")[3]?"ch-it":"fr"==n.split("/")[3]?"ch-fr":"ch-de";else if(".co.uk"==tld)a="en";else if(".ca"==tld)a="fr"==n.split("/")[3]?"ca-fr":"ca-en";else if(".com.au"==tld)a="au";else if(".com"==tld)try{a="_es_US"==spreadShopLoaded.pageData.pageId.split("/")[3]?"us-es":"us"}catch(e){_satellite.notify("spanish page recognition exception "+e,3),a="us"}else a=tld.substring(1)}return a},storeLength:"pageview"},CurrencyCode:{customJS:function(){if(location.hostname.match(".*localhost.*"))return"EUR";var e="EUR",t=/(\..{2,3})?\.\w{2,4}$/.exec(location.hostname)[0];return".co.uk"==t&&(e="GBP"),".dk"==t&&(e="DKK"),".no"==t&&(e="NOK"),".se"!=t&&".vse"!=t||(e="SEK"),".ch"==t&&(e="CHF"),".pl"==t&&(e="PLN"),e},storeLength:"pageview"},direct_affiliate:{cookie:"direct_affiliate",storeLength:"pageview"},"Facebook ID":{customJS:function(){var e=_satellite.getVar("tld"),t={".de":"1399526467029664",".vde":"180405512470459",".dk":"374501119418236",".fr":"789933401027940",".no":"1422508571383081",".se":"442099475949525",".co.uk":"439541729535886",".nl":"732773470217407",".pl":"411451279192848",".it":"1032751966771882",".fi":"676336515871855",".es":"1155120714609704",".be":"399886177076780",".ch":"1906035829673342",".ie":"359783934422651",".at":"182929822354328"};return t.hasOwnProperty(e)?t[e]:"180405512470459"},storeLength:"pageview"},GlobalPrefix:{customJS:function(){var e=_satellite.getVar("CountryTag");return"us"==e||"au"==e||1==e.indexOf("ca")||"vcom"==e?"NA|":"EU|"},storeLength:"pageview"},last_sem_touch:{cookie:"last_sem_touch",storeLength:"pageview"},LoginStatus:{jsVariable:"window.spreadShopLoaded.userLoggedIn","default":"false",storeLength:"pageview"},"Marketplace ViewType":{customJS:function(){try{return a.querySelector(".Selector.views").querySelector(".Item.active").className}catch(e){_satellite.notify("Marketplace ViewType recognition error "+e,4)}},"default":"undefined",storeLength:"pageview"},MpDesignId:{customJS:function(){if("Marketplace"==_satellite.getVar("PageComponent")&&spreadShopLoaded)return t.spreadShopLoaded&&spreadShopLoaded.pageData&&spreadShopLoaded.pageData.designId},storeLength:"pageview"},"MP PDP Tags":{customJS:function(){try{var t=a.getElementById("relatedTagsDetailPage").getElementsByTagName("a"),i=t[0].innerHTML.trim();for(k=1;k<t.length;k++)i+=","+t[k].innerHTML.trim();return i}catch(e){return _satellite.notify("MP PDP DE error:"+e,4),""}},storeLength:"pageview"},"MP RMKT Product ID":{customJS:function(){return t.spreadShopLoaded&&t.spreadShopLoaded.pageData&&t.spreadShopLoaded.pageData.sellableIdV2},storeLength:"pageview"},NumberOfShops:{customJS:function(){var t=a.querySelectorAll("div.pos.SHOP"),i=0;if(t.length>0)for(var n=0;n<t.length;n++)try{"active"==t[n].querySelector("div.status.ng-binding.ng-scope").querySelector("svg.icon.ng-isolate-scope").getAttribute("key")&&i++}catch(e){_satellite.notify("shop recognition error"+e,3)}return{shops:t.length,activeShops:i}},storeLength:"pageview"},PageComponent:{customJS:function(){var e=a.location.href,i=t.spreadShopLoaded&&t.spreadShopLoaded.pageType?t.spreadShopLoaded.pageType:"",n=t.spreadShopLoaded&&t.spreadShopLoaded.pageData&&t.spreadShopLoaded.pageData.pageId?t.spreadShopLoaded.pageData.pageId:"",r=a.referrer;return e.indexOf("blog.spreadshirt")>-1||e.indexOf("/blog")>-1?"Blog":e.indexOf("spreadshop.")>-1||e.indexOf("sellmerch.org")>-1||"CMS"==i&&n.indexOf("mds/")>-1||e.indexOf("partner.")>-1?"MDS":-1==e.indexOf("spreadshirt")&&-1==e.indexOf(".vm24")||e.indexOf("designer.spreadshirt")>-1&&(-1==r.indexOf("spreadshirt")&&-1==r.indexOf("vm2")||r.indexOf("shop.spreadshirt")>-1)||e.indexOf("shop.spreadshirt.")>-1?"SpreadShop":"LIST"==i||"DETAIL"==i||"FAVORITES"==i||n.indexOf("mp/")>-1?"Marketplace":"EDIT"==i||e.indexOf("designer.")>-1||n.indexOf("cyo/")>-1?"CYO":e.indexOf("checkout-dtm.spreadshirt")>-1||e.indexOf("checkout-dtm.vm2")>-1?"Checkout":""!=i?"Spreadshirt":e.indexOf("help.spreadshirt")>-1||e.indexOf("service.spreadshirt")>-1?"Zendesk":e.indexOf("/userarea/")>-1?"UserArea":e.indexOf("forum.spreadshirt")>-1||e.indexOf("spreadshirt.net/forum")>-1?"Forum":"UnknownComponent"},storeLength:"pageview"},PageName:{customJS:function(){var e=a.location.href,i=a.location.pathname.substr(1);i="/"==i[i.length-1]?i.substr(0,i.length-1):i;var n=t.spreadShopLoaded&&t.spreadShopLoaded.pageType?t.spreadShopLoaded.pageType:"",r=t.spreadShopLoaded&&t.spreadShopLoaded.pageData&&t.spreadShopLoaded.pageData.pageId?t.spreadShopLoaded.pageData.pageId:"",s=r?r.split("/"):"",o=(a.referrer,""),l=_satellite.getVar("PageComponent");switch(l){case"MDS":"CMS"==n&&r.indexOf("mds/")>-1?o="Landingpage | "+r.substr(4):e.indexOf("sellmerch.org")>-1?(o="sellmerch.org",o+=""==i?" | Main":i.indexOf("category")>-1?" | Category":" | Article"):e.indexOf("spreadshop.com")>-1?(o="Landingpage | spreadshop.com | ",o+=i||"Main"):o="Partner Area | "+i;break;case"SpreadShop":l="MDS",o=n?"SpreadShop | "+n.substr(0,1)+n.substr(1).toLowerCase():e.indexOf("designer.")>-1?"SpreadShop | Designer | "+i.substr(10):"SpreadShop | Unknown";break;case"Marketplace":o=e.indexOf("/user/")>-1?"Showroom":"LIST"==n?"Search":"DETAIL"==n?"Product Detail":"FAVORITES"==n?"Wishlist":"CMS"==n&&r?"Landingpage | "+r.substr(3):"Unknown";break;case"CYO":o="CMS"==n&&r?r.indexOf("assortment")>-1?"Assortment | "+s[s.length-1]:"Landingpage | "+s[s.length-1]+" | "+s[s.length-2]:"EDIT"==n?"Designer | Unknown":e.indexOf("designer.")>-1?"Designer | "+i.substr(10):"Unknown";break;case"Checkout":o="";break;case"Spreadshirt":"START"==n?o="Startpage":(o=s&&s[1]?s[1]:n,o+=s[2]?" | "+s[2]:"",o+=s[3]?" | "+s[3]:"");break;case"Zendesk":o=e.indexOf("search")>-1?"Search":e.indexOf("articles")>-1?"Article":"Main";break;case"UserArea":o=(s=i.substr(9).split("-C")[0])||"unknownPage";break;case"Blog":e.indexOf("spreadshop.")>-1&&(l="MDS | Blog"),o=(s=i.split("/")).length<=1?"Main":i.indexOf("category")>-1?"category | "+s[s.length-1]:"article | "+(s=(s=a.querySelectorAll(".post-categories a")).length>1?"Global":s[0].innerHTML);break;case"Forum":o="Main";break;default:o="unknownPage"}return l+" | "+o},storeLength:"pageview"},Page_referrer:{customJS:function(){return a.referrer},"default":"empty",storeLength:"pageview"},Page_URL:{customJS:function(){return t.self!==t.top&&a.referrer?a.referrer:location.href},storeLength:"pageview"},PageUrl_50char:{customJS:function(){return location.hostname+location.pathname},storeLength:"pageview"},partnerAffiliateID:{customJS:function(){function e(e,t){return e.indexOf(t)>-1}var i=a.referrer.toLowerCase();return function(){if(_satellite.QueryParams.caseInsensitive.affiliateid){var e=new Date,t=e.getTime()+2592e6;return e.setTime(t),a.cookie="last_sem_touch="+_satellite.QueryParams.caseInsensitive.affiliateid+";domain="+_satellite.getVar("cookiedomain")+";expires="+e.toGMTString(),_satellite.QueryParams.caseInsensitive.affiliateid}return""}()||(t.location.href.indexOf("C5780")>-1||t.location.href.indexOf("C3598")>-1?""===a.referrer?1253019:i.indexOf("google")>=0?1253333:e(i,"yahoo")?1253335:e(i,"bing")?1253337:e(i,"facebook")?1253009:e(i,"youtube")?1253005:e(i,"twitter")?1253013:e(i,"shareasale")?1253391:e(i,"sellmerch.org")?1256517:1255591:""===a.referrer?1253019:i.indexOf("google.")>=0?1253327:e(i,"yahoo")?1253329:e(i,"bing")?1253331:e(i,"facebook")?1253011:e(i,"youtube")?1253007:e(i,"twitter")?1253015:e(i,"shareasale")?1253391:e(i,"sellmerch.org")?1256517:1255591)},storeLength:"pageview"},PartnerId:{customJS:function(){var e="none";if(_satellite.getVar("PageName").indexOf("Partner Area")>-1){var i=a.querySelector("a.account-link");e=i&&i.getAttribute("data-account-id")||"none"}else e=t.spreadShopLoaded&&t.spreadShopLoaded.userId;return _satellite.getVar("GlobalPrefix")+e},storeLength:"pageview"},PathName:{customJS:function(){return decodeURI(location.pathname)},storeLength:"pageview"},PreviousPage:{customJS:function(){if(-1==_satellite.getVar("PageName").indexOf("Checkout")){var e=decodeURIComponent(_satellite.readCookie("PP")||"");return e||(e="Entry"),a.cookie="PPP="+encodeURIComponent(e)+";path=/;domain="+_satellite.getVar("cookiedomain"),a.cookie="PP="+encodeURIComponent(_satellite.getVar("PageName"))+";path=/;domain="+_satellite.getVar("cookiedomain"),e}return"not available"},storeLength:"pageview"},Product:{customJS:function(){var i,n,r,s,o,l=_satellite.getVar("PageComponent"),c=_satellite.getVar("PageName"),u="";try{"CYO"==l?c.indexOf("Designer")>-1?(i=(u=a.getElementsByClassName(" stage")[0].getProductModel()).id,n=u.productTypeId,r=u.price,o=u.appearanceId,s=""):c.indexOf("Assortment | detail")>-1&&(n=location.pathname.split("PT")[1],o=_satellite.QueryParams.caseInsensitive.appearance):"SpreadShop"==l&&"MDS | SpreadShop | Detail"==c?(i=(u=t.spreadShopLoaded.pageData).articleId,n=u.productTypeId,o=u.appearanceId,s=u.sizeId?u.sizeId:""):"Marketplace"==l&&("Marketplace | Product Detail"==c?(i=(u=t.spreadShopLoaded.pageData).articleId,n=u.productTypeId,o=u.appearanceId,s=u.sizeId?u.sizeId:""):"Marketplace | Landingpage | tShirtOfTheWeek"==c&&(n="men"==a.querySelector("div.totw-header__switcher div.is-active").getAttribute("data-switch")?"812":"813",o=a.querySelector("ul.js-color-bubbles div.is-active").getAttribute("data-color"),s=a.querySelector("div.totw-header__sizes li.is-active").getAttribute("data-size")))}catch(e){}return{id:i,type:n,price:r,size:s,appearance:o}},storeLength:"pageview"},ProductTypeId:{customJS:function(){try{if(void 0!==a.querySelector(".stage"))return _satellite.getVar("GlobalPrefix")+a.querySelector(".stage").getProductModel().productTypeId}catch(e){_satellite.notify("no stage present"+e,4)}try{if(0!==typeof a.querySelectorAll("div.Item.active").length)for(var t=0;t<a.querySelectorAll("div.Item.active").length;t++)if(a.querySelectorAll("div.Item.active")[t].getAttribute("data-product-type-id"))return _satellite.getVar("GlobalPrefix")+a.querySelectorAll("div.Item.active")[t].getAttribute("data-product-type-id")}catch(e){_satellite.notify("no detail page"+e,4)}try{var i=a.querySelectorAll("meta[itemprop=item]")[0].getAttribute("content");if(i)return _satellite.getVar("GlobalPrefix")+i.substring(i.length,i.search("PT")+2)}catch(e){_satellite.notify(e,4)}try{return _satellite.getVar("GlobalPrefix")+spreadShopLoaded.pageData.productTypeId}catch(e){_satellite.notify(e,4)}},storeLength:"pageview"},QueryString:{customJS:function(){var e=location.search.replace(/(\?|&)gclid=(\w+)/,function(e,t){return t+"gclid"});return decodeURI(e)},storeLength:"pageview"},s_fid:{customJS:function(){return _satellite.getVisitorId().getMarketingCloudVisitorID()},storeLength:"pageview"},ShopId:{customJS:function(){var e="none",a=_satellite.getVar("PageComponent");return _satellite.getVar("PageName").indexOf("Designer")>-1?e=t.trackingData&&t.trackingData.shopId?t.trackingData.shopId:"none":"Marketplace"==a||"SpreadShop"==a?e=t.core_data&&t.core_data.shopData&&t.core_data.shopData.shopId:"CYO"==a?e="CYO":"Checkout"==a?e="checkout-none":_satellite.getVar("PageName").indexOf("Marketplace | Landingpage")>-1&&(e="205909"),_satellite.getVar("GlobalPrefix")+e},"default":"none",storeLength:"pageview"},ShopType:{customJS:function(){var e;switch(_satellite.getVar("BusinessSegment")){case"Shop":e=t.core_data?t.core_data.flexiProductShop?"FlexiShop":"ArticleShop":"undefinedShop";break;case"www":default:e=t.core_data?"NaN - "+t.core_data.flexiProductShop:"NaN"}return e},storeLength:"pageview"},"third party cookie":{customJS:function(){var e=location.search.toLowerCase();if(e.match("affiliateid")){var t=/affiliateid=(\d+)/.exec(e)[1];if(t&&(wgarg1="1222051"==t||"1224500"==t||"1246425"==t||"1246329"==t||"1246397"==t||"1246317"==t,wgarg2="1246433"==t||"1246331"==t||"1246431"==t||"1246333"==t||"1246429"==t||"1246335"==t,wgarg3="1246427"==t||"1246337"==t||"1250861"==t,nparg1="1246981"==t||"1246987"==t||"1246995"==t),wgarg1||wgarg2||wgarg3||nparg1){var i=new Date,n=i.getTime()+2592e6;i.setTime(n);var r="."+a.domain.split(".")[1]+"."+a.domain.split(".")[2];a.domain.match(".co.uk")&&(r=".spreadshirt.co.uk");var s=_satellite.readCookie("tpc");(wgarg1||wgarg2||wgarg3)&&(a.cookie=s?"tpc="+s+",wg;domain="+r+";expires="+i.toGMTString():"tpc=wg;domain="+r+";expires="+i.toGMTString()),nparg1&&(a.cookie=s?"tpc="+s+",np;domain="+r+";expires="+i.toGMTString():"tpc=np;domain="+r+";expires="+i.toGMTString())}}},storeLength:"pageview"},TimeStampLong:{customJS:function(){var e=new Date,t=parseInt(e.getMonth())+1;t<10&&(t="0"+t);var a=e.getHours();a<10&&(a="0"+a);var i=e.getUTCMinutes();i<10&&(i="0"+i);var n=e.getUTCSeconds();n<10&&(n="0"+n);var r=e.getDate();return r<10&&(r="0"+r),e.getUTCFullYear()+"/"+t+"/"+r+" "+a+":"+i+":"+n},storeLength:"pageview"},tld:{customJS:function(){if(location.hostname.indexOf("localhost")>-1)return".vde";var e="."+location.hostname.split(".")[location.hostname.split(".").length-1];switch(e){case".uk":return".co.uk";case".au":return".com.au";default:return e}},storeLength:"pageview"},trackingServer:{customJS:function(){if(location.hostname.match(".*localhost.*"))return"analytics.spreadshirt.net";var e=_satellite.getVar("Page_URL");if(e.match(".*help.spreadshirt.*"))".en-gb"==(t="."+/help.spreadshirt.com\/hc\/([a-z,-]{2,6}).*/.exec(e)[1])?t=".co.uk":".da"==t?t=".dk":".sv"==t&&(t=".se");else var t=/(\..{2,3})?\.\w{2,4}$/.exec(location.hostname)[0];return trackingserver=".de"==t||".co.uk"==t||".fr"==t||".pl"==t||".es"==t||".it"==t||".be"==t||".nl"==t||".dk"==t||".no"==t||".se"==t||".fi"==t||".ie"==t||".at"==t||".ch"==t?"analytics.spreadshirt"+t:"analytics.spreadshirt.net",trackingserver},storeLength:"pageview"},trackingServerSecure:{customJS:function(){if(location.hostname.match(".*localhost.*"))return"sanalytics.spreadshirt.net";var e=_satellite.getVar("Page_URL");if(e.match(".*help.spreadshirt.*"))".en-gb"==(t="."+/help.spreadshirt.com\/hc\/([a-z,-]{2,6}).*/.exec(e)[1])?t=".co.uk":".da"==t?t=".dk":".sv"==t&&(t=".se");else var t=/(\..{2,3})?\.\w{2,4}$/.exec(location.hostname)[0];return trackingServerSecure=".de"==t||".co.uk"==t||".fr"==t||".pl"==t||".es"==t||".it"==t||".be"==t||".nl"==t||".dk"==t||".no"==t||".se"==t||".fi"==t||".ie"==t||".at"==t||".ch"==t?"sanalytics.spreadshirt"+t:"sanalytics.spreadshirt.net",trackingServerSecure},storeLength:"pageview"},UserAgent:{jsVariable:"navigator.userAgent",storeLength:"pageview"},"webgains affiliate id":{customJS:function(){var e=_satellite.readCookie("affiliate");return arg1="1222051"==e||"1224500"==e||"1246425"==e||"1246329"==e||"1246397"==e||"1246317"==e,arg2="1246433"==e||"1246331"==e||"1246431"==e||"1246333"==e||"1246429"==e||"1246335"==e,arg3="1246427"==e||"1246337"==e||"1250861"==e,arg1||arg2||arg3?"true":"false"},storeLength:"pageview"},"webgains anytouch id":{customJS:function(){var e=location.search.toLowerCase();if(e.match("affiliateid")){var t=/affiliateid=(\d+)/.exec(e);t&&(arg1="1222051"==t||"1224500"==t||"1246425"==t||"1246329"==t||"1246397"==t||"1246317"==t,arg2="1246433"==t||"1246331"==t||"1246431"==t||"1246333"==t||"1246429"==t||"1246335"==t,arg3="1246427"==t||"1246337"==t)}return arg1||arg2||arg3?"true":"false"},storeLength:"pageview"},"webgains merchant id":{customJS:function(){switch(_satellite.getVar("tld")){case".de":case".vde":e="7495";break;case".fr":e="16081";break;case".co.uk":e="16091";break;case".se":e="16095";break;case".fi":e="16099";break;case".dk":e="16103";break;case".no":e="16107";break;case".nl":e="24241";break;default:var e="none"}return e},storeLength:"pageview"},"webgains programm id":{customJS:function(){switch(_satellite.getVar("tld")){case".de":case".vde":e="4748";break;case".fr":e="9693";break;case".co.uk":e="9701";break;case".se":e="9703";break;case".fi":e="9705";break;case".dk":e="9715";break;case".no":e="9717";break;case".nl":e="13127";break;default:var e="none"}return e},storeLength:"pageview"}},appVersion:"7QN",buildDate:"2019-05-13 09:55:32 UTC",publishDate:"2019-05-13 09:55:22 UTC"})}(window,document);